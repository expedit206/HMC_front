import{_ as h}from"./index-DftiFTCt.js";import{A as _}from"./Sidebar-BAVNR1NU.js";import{D as w,o as a,f as l,h as k,l as m,g as e,s as E,F as b,x as p,a as B,r as d,y as F,n as v,k as u,t as r}from"./vendor-DYpG4QdT.js";const j={class:"bg-[#FAF9F5] text-gray-800 antialiased min-h-screen flex relative"},C={class:"flex-1 overflow-y-auto bg-[#FAF9F5] p-4 lg:p-8 transition-all duration-300"},A={class:"max-w-7xl mx-auto h-full"},V={class:"lg:hidden flex items-center justify-between mb-6"},I={class:"flex flex-wrap gap-4 mb-6 border-b border-gray-200 pb-2 animate-fadeIn",style:{"animation-delay":"0.1s"}},L=["onClick"],N={key:0,class:"absolute bottom-[-9px] left-0 w-full h-0.5 bg-[#E54801]"},M={key:0,class:"py-20 text-center text-gray-400"},$={key:1,class:"py-20 text-center bg-white rounded-2xl border border-gray-100 shadow-sm"},P={key:2,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 animate-slide-up",style:{"animation-delay":"0.2s"}},T={class:"relative h-48 bg-gray-200"},z=["src"],D={class:"p-4"},S={class:"flex justify-between items-start mb-2"},O={class:"text-xs font-bold text-[#E54801] uppercase tracking-wider"},G={class:"text-lg font-bold text-[#1B0B38]"},R={class:"font-bold text-gray-900 mb-1 truncate"},W={class:"text-sm text-gray-500 mb-3 flex items-center gap-1"},q={class:"flex items-center gap-3 text-xs text-gray-600 border-t border-gray-100 pt-3"},H={class:"flex items-center gap-1"},J={class:"flex items-center gap-1"},K={class:"flex items-center gap-1"},Q={__name:"Biens",setup(U){const c=d(!0),n=d(!1),i=d("all"),g=d(!0),x=d([]),y=[{id:"all",label:"Tous"},{id:"sale",label:"À Vendre"},{id:"rent",label:"À Louer"}];w(async()=>{g.value=!0;try{const{data:o}=await B.get("/api/agent/properties");o.success&&(x.value=o.data.data.map(t=>{var s;return{...t,image:(s=t.primary_image)!=null&&s.path?t.primary_image.path.startsWith("http")?t.primary_image.path:`/storage/${t.primary_image.path}`:"/images/placeholder-property.jpg",statusLabel:t.rental_status==="available"?"Disponible":"Occupé",priceFormatted:new Intl.NumberFormat("fr-FR").format(t.price)+" CFA"}}))}catch(o){console.error("Erreur chargement biens agent:",o)}finally{g.value=!1}});const f=F(()=>i.value==="all"?x.value:x.value.filter(o=>i.value==="sale"?o.type==="sale":i.value==="rent"?o.type==="rent":!0));return(o,t)=>(a(),l("div",j,[k(_,{expanded:c.value,"is-open":n.value,onToggleExpand:t[0]||(t[0]=s=>c.value=!c.value)},null,8,["expanded","is-open"]),n.value?(a(),l("div",{key:0,onClick:t[1]||(t[1]=s=>n.value=!1),class:"fixed inset-0 bg-black/50 z-30 backdrop-blur-sm lg:hidden transition-opacity duration-300"})):m("",!0),e("main",C,[e("div",A,[e("div",V,[t[4]||(t[4]=e("h1",{class:"text-xl font-bold text-[#1B0B38]"},"Mes Biens",-1)),e("button",{onClick:t[2]||(t[2]=s=>n.value=!n.value),class:"p-2 text-gray-500 hover:text-[#E54801]"},[...t[3]||(t[3]=[e("i",{class:"fas fa-bars text-xl"},null,-1)])])]),t[13]||(t[13]=E('<div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4 animate-fadeIn" data-v-4ee82758><div data-v-4ee82758><h1 class="text-2xl font-bold text-[#1B0B38]" data-v-4ee82758> Mes Biens Immobiliers </h1><p class="text-gray-500" data-v-4ee82758>Gérez votre portefeuille de propriétés</p></div><button class="bg-[#E54801] text-white px-4 py-2 rounded-lg font-medium hover:bg-[#913327] transition flex items-center gap-2 shadow-lg" data-v-4ee82758><i class="fas fa-plus" data-v-4ee82758></i><span data-v-4ee82758>Ajouter un Bien</span></button></div>',1)),e("div",I,[(a(),l(b,null,p(y,s=>e("button",{key:s.id,onClick:Y=>i.value=s.id,class:v(["px-4 py-2 text-sm font-medium transition-colors relative",i.value===s.id?"text-[#E54801]":"text-gray-500 hover:text-gray-700"])},[u(r(s.label)+" ",1),i.value===s.id?(a(),l("span",N)):m("",!0)],10,L)),64))]),g.value?(a(),l("div",M,[...t[5]||(t[5]=[e("i",{class:"fas fa-circle-notch fa-spin text-3xl mb-4 text-[#E54801]"},null,-1),e("p",{class:"font-bold uppercase text-[10px] tracking-widest"}," Chargement de vos biens... ",-1)])])):f.value.length===0?(a(),l("div",$,[...t[6]||(t[6]=[e("i",{class:"fas fa-building text-5xl mb-4 text-gray-200"},null,-1),e("p",{class:"text-gray-500 font-bold"},"Aucun bien trouvé.",-1)])])):(a(),l("div",P,[(a(!0),l(b,null,p(f.value,s=>(a(),l("div",{key:s.id,class:"group bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:-translate-y-1 hover:shadow-lg transition-all duration-300"},[e("div",T,[e("img",{src:s.image,alt:"Property Image",class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"},null,8,z),e("span",{class:v(["absolute top-3 left-3 px-3 py-1 text-xs font-bold rounded-full text-white shadow-sm",s.rental_status==="available"?"bg-green-500":"bg-red-500"])},r(s.statusLabel),3)]),e("div",D,[e("div",S,[e("span",O,r(s.type==="sale"?"Vente":"Location"),1),e("span",G,r(s.priceFormatted),1)]),e("h3",R,r(s.title),1),e("p",W,[t[7]||(t[7]=e("i",{class:"fas fa-map-marker-alt text-xs"},null,-1)),u(" "+r(s.city||"Cameroun"),1)]),e("div",q,[e("span",H,[t[8]||(t[8]=e("i",{class:"fas fa-bed"},null,-1)),u(" "+r(s.bedrooms||0),1)]),e("span",J,[t[9]||(t[9]=e("i",{class:"fas fa-bath"},null,-1)),u(" "+r(s.bathrooms||0),1)]),e("span",K,[t[10]||(t[10]=e("i",{class:"fas fa-ruler-combined"},null,-1)),u(" "+r(s.area||0)+" m²",1)])])]),t[11]||(t[11]=e("div",{class:"px-4 pb-4 flex gap-2"},[e("button",{class:"flex-1 py-2 bg-gray-50 hover:bg-gray-100 text-gray-700 text-sm font-medium rounded-lg transition-colors border border-gray-200"}," Modifier "),e("button",{class:"py-2 px-3 bg-[#E54801]/10 hover:bg-[#E54801]/20 text-[#E54801] rounded-lg transition-colors"},[e("i",{class:"fas fa-share-alt"})])],-1))]))),128)),t[12]||(t[12]=e("div",{class:"border-2 border-dashed border-gray-200 rounded-2xl flex flex-col items-center justify-center text-gray-400 hover:border-[#E54801] hover:text-[#E54801] hover:bg-orange-50 transition-colors cursor-pointer min-h-[350px]"},[e("div",{class:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-4 group-hover:bg-white transition-colors"},[e("i",{class:"fas fa-plus text-2xl"})]),e("p",{class:"font-medium"},"Ajouter un bien")],-1))]))])])]))}},se=h(Q,[["__scopeId","data-v-4ee82758"]]);export{se as default};
