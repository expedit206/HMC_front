import{D as M,o as a,f as r,g as t,n as o,h as p,i as u,u as x,j as c,l,k as d,F as D,x as S,a as A,r as f,e as R,t as g,c as V}from"./vendor-DYpG4QdT.js";import{_ as z,u as I}from"./index-DftiFTCt.js";const N={class:"bg-[#FAF9F5] text-gray-800 antialiased min-h-screen flex relative"},T={class:"h-full flex flex-col py-8 px-4 overflow-y-auto custom-scrollbar"},P={class:"space-y-2"},$={key:0},O={key:0},q={key:0},G={key:0},H={key:0},Q={key:0,class:"mt-8 pt-8 border-t border-gray-100"},X={class:"space-y-1"},J={class:"mt-auto pt-6"},K={key:0},U={class:"flex-1 overflow-y-auto bg-[#FAF9F5] p-4 lg:p-8"},W={class:"max-w-6xl mx-auto"},Y={class:"space-y-8"},Z={key:0,class:"flex flex-col items-center justify-center py-20 bg-white rounded-3xl border border-gray-100 italic text-gray-400"},tt={class:"md:w-72 h-56 md:h-auto overflow-hidden relative"},et=["src"],st={key:0,class:"absolute inset-0 bg-black/20 flex items-center justify-center"},at={class:"flex-1 p-6 md:p-8"},rt={class:"flex flex-col md:flex-row justify-between gap-4 mb-6"},ot={class:"flex items-center gap-2 mb-2"},lt={key:0,class:"px-2.5 py-1 bg-green-50 text-green-600 text-[10px] font-bold rounded-lg uppercase tracking-wide"},nt={class:"text-[10px] text-gray-400 font-bold uppercase tracking-widest"},it={class:"text-left md:text-right"},dt={class:"grid grid-cols-2 lg:grid-cols-4 gap-6 p-5 bg-gray-50 rounded-2xl mb-8"},ut={key:0,class:"flex flex-wrap gap-3"},xt={key:1,class:"px-6 py-3 bg-white border border-gray-200 text-gray-600 rounded-xl text-xs font-bold uppercase tracking-widest hover:bg-gray-50 transition-all flex items-center gap-2"},ct={key:1,class:"flex flex-wrap gap-3"},pt={key:2,class:"bg-gray-100/50 border-2 border-dashed border-gray-200 rounded-3xl p-16 text-center"},gt={__name:"MesLocations",setup(ft){const F=R(),C=I(),n=f(!0),b=f(!1),y=f(!0),m=f([]);M(async()=>{try{const{data:i}=await A.get("/api/tenant/rentals");i.success&&(m.value=i.data)}catch(i){console.error("Erreur chargement locations:",i)}finally{y.value=!1}});const L=i=>new Intl.NumberFormat("fr-FR").format(i),v=i=>i?new Date(i).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"}):"Indéfini",j=async()=>{await C.logout(),F.push("/auth/connexion")};return(i,e)=>(a(),r("div",N,[t("aside",{id:"sidebar",class:o(["fixed inset-y-0 left-0 z-40 bg-white border-r border-gray-100 transition-all -translate-x-full lg:translate-x-0 lg:sticky lg:top-0 h-screen lg:h-auto overflow-hidden",n.value?"w-64":"w-20"])},[t("div",T,[t("button",{onClick:e[0]||(e[0]=s=>n.value=!n.value),class:"hidden lg:flex items-center justify-center w-8 h-8 rounded-lg bg-gray-50 hover:bg-orange-50 text-gray-400 hover:text-[#E54801] transition mb-6 ml-auto"},[t("i",{class:o(`fas fa-chevron-${n.value?"left":"right"} text-xs`)},null,2)]),t("div",P,[p(x(c),{to:"/locataire/dashboard",class:"sidebar-link flex items-center gap-4 px-4 py-3.5 rounded-2xl text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-[#E54801] transition-all group"},{default:u(()=>[e[2]||(e[2]=t("i",{class:"fas fa-th-large w-5 text-center group-hover:scale-110 transition-transform"},null,-1)),n.value?(a(),r("span",$,"Tableau de bord")):l("",!0)]),_:1}),p(x(c),{to:"/locataire/mes-locations",class:"sidebar-link active flex items-center gap-4 px-4 py-3.5 rounded-2xl text-sm font-medium transition-all group"},{default:u(()=>[e[3]||(e[3]=t("i",{class:"fas fa-key w-5 text-center group-hover:scale-110 transition-transform"},null,-1)),n.value?(a(),r("span",O,"Mes Locations")):l("",!0)]),_:1}),p(x(c),{to:"/locataire/mes-paiements",class:"sidebar-link flex items-center gap-4 px-4 py-3.5 rounded-2xl text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-[#E54801] transition-all group"},{default:u(()=>[e[4]||(e[4]=t("i",{class:"fas fa-credit-card w-5 text-center group-hover:scale-110 transition-transform"},null,-1)),n.value?(a(),r("span",q,"Mes Paiements")):l("",!0)]),_:1}),p(x(c),{to:"/locataire/interventions",class:"sidebar-link flex items-center gap-4 px-4 py-3.5 rounded-2xl text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-[#E54801] transition-all group"},{default:u(()=>[e[5]||(e[5]=t("i",{class:"fas fa-tools w-5 text-center group-hover:scale-110 transition-transform"},null,-1)),n.value?(a(),r("span",G,"Interventions")):l("",!0)]),_:1}),p(x(c),{to:"/locataire/mes-favoris",class:"sidebar-link flex items-center gap-4 px-4 py-3.5 rounded-2xl text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-[#E54801] transition-all group"},{default:u(()=>[e[6]||(e[6]=t("i",{class:"fas fa-heart w-5 text-center group-hover:scale-110 transition-transform"},null,-1)),n.value?(a(),r("span",H,"Mes Favoris")):l("",!0)]),_:1})]),n.value?(a(),r("div",Q,[e[9]||(e[9]=t("p",{class:"px-4 text-[11px] font-bold text-gray-400 uppercase tracking-widest mb-4"}," Compte ",-1)),t("div",X,[p(x(c),{to:"/locataire/mon-profil",class:"sidebar-link flex items-center gap-4 px-4 py-3.5 rounded-2xl text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-[#E54801] transition-all group"},{default:u(()=>[...e[7]||(e[7]=[t("i",{class:"fas fa-user-circle w-5 text-center group-hover:scale-110 transition-transform"},null,-1),t("span",null,"Mon Profil",-1)])]),_:1}),p(x(c),{to:"/bailleur/formulaire",class:"sidebar-link flex items-center gap-4 px-4 py-3.5 rounded-2xl text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-[#E54801] transition-all group"},{default:u(()=>[...e[8]||(e[8]=[t("i",{class:"fas fa-hand-holding-heart w-5 text-center group-hover:scale-110 transition-transform"},null,-1),t("span",null,"Devenir Bailleur",-1)])]),_:1})])])):l("",!0),t("div",J,[t("button",{onClick:j,class:"w-full text-xs font-bold text-red-500 hover:bg-red-50 py-3 rounded-xl transition-colors uppercase tracking-widest flex items-center justify-center gap-2 group"},[e[10]||(e[10]=t("i",{class:"fas fa-sign-out-alt group-hover:translate-x-1 transition-transform"},null,-1)),n.value?(a(),r("span",K,"Déconnexion")):l("",!0)])])])],2),b.value?(a(),r("div",{key:0,onClick:e[1]||(e[1]=s=>b.value=!1),class:"fixed inset-0 bg-black/50 z-30 backdrop-blur-sm lg:hidden"})):l("",!0),t("main",U,[t("div",W,[e[28]||(e[28]=t("div",{class:"mb-8"},[t("h1",{class:"text-xl font-bold text-gray-900 leading-tight"}," Mes Locations "),t("p",{class:"text-gray-500 text-xs mt-1 font-medium tracking-wide"}," Gérez vos baux actifs, dossiers de location et documents officiels. ")],-1)),t("div",Y,[y.value?(a(),r("div",Z,[...e[11]||(e[11]=[t("i",{class:"fas fa-circle-notch fa-spin text-2xl mb-2 text-[#E54801]"},null,-1),d(" Chargement de vos contrats... ",-1)])])):m.value.length>0?(a(!0),r(D,{key:1},S(m.value,s=>{var h,w,k,_,B,E;return a(),r("div",{key:s.id,class:o(["bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden flex flex-col md:flex-row transition-all hover:shadow-md",{"opacity-80":s.status!=="active"}])},[t("div",tt,[t("img",{src:((w=(h=s.property)==null?void 0:h.primary_image)==null?void 0:w.path)||"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?auto=format&fit=crop&w=800&q=80",class:o(["w-full h-full object-cover",{grayscale:s.status!=="active"}])},null,10,et),s.status!=="active"?(a(),r("div",st,[...e[12]||(e[12]=[t("span",{class:"bg-black/60 text-white text-[10px] font-black uppercase tracking-widest px-4 py-2 rounded-full border border-white/20"},"Terminée",-1)])])):l("",!0)]),t("div",at,[t("div",rt,[t("div",null,[t("div",ot,[s.status==="active"?(a(),r("span",lt,"En cours")):l("",!0),t("span",nt,"Contrat #LOC-"+g(String(s.id).padStart(4,"0")),1)]),t("h2",{class:o(["text-xl font-bold",s.status==="active"?"text-[#1B0B38]":"text-gray-400"])},g((k=s.property)==null?void 0:k.title),3),t("p",{class:o(["text-xs mt-1",s.status==="active"?"text-gray-500":"text-gray-400"])},[e[13]||(e[13]=t("i",{class:"fas fa-map-marker-alt mr-1"},null,-1)),d(" "+g((_=s.property)==null?void 0:_.location),1)],2)]),t("div",it,[t("p",{class:o(["text-xl font-black",s.status==="active"?"text-[#E54801]":"text-gray-300"])},[d(g(L(s.price))+" ",1),e[14]||(e[14]=t("span",{class:"text-xs"},"XAF/mois",-1))],2),t("p",{class:o(["text-[10px] font-bold uppercase mt-1",s.status==="active"?"text-gray-400":"text-gray-300"])}," Loyer HT ",2)])]),t("div",dt,[t("div",null,[e[15]||(e[15]=t("p",{class:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mb-1 leading-none"}," Début ",-1)),t("p",{class:o(["text-xs font-bold",s.status==="active"?"text-[#1B0B38]":"text-gray-400"])},g(v(s.start_date)),3)]),t("div",null,[e[16]||(e[16]=t("p",{class:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mb-1 leading-none"}," Fin prévue ",-1)),t("p",{class:o(["text-xs font-bold",s.status==="active"?"text-[#1B0B38]":"text-gray-400"])},g(v(s.end_date)),3)]),t("div",null,[e[17]||(e[17]=t("p",{class:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mb-1 leading-none"}," Bailleur ",-1)),t("p",{class:o(["text-xs font-bold",s.status==="active"?"text-[#1B0B38]":"text-gray-400"])},g(((E=(B=s.property)==null?void 0:B.owner)==null?void 0:E.name)||"Inconnu"),3)]),t("div",null,[e[18]||(e[18]=t("p",{class:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mb-1 leading-none"}," Statut ",-1)),t("p",{class:o(["text-xs font-bold",s.status==="active"?"text-green-600":"text-gray-400"])},g(s.status==="active"?"À jour":"Archivé"),3)])]),s.status==="active"?(a(),r("div",ut,[s.status==="active"?(a(),V(x(c),{key:0,to:"/locataire/detail-mon-bien",class:"px-6 py-3 bg-[#1B0B38] text-white rounded-xl text-xs font-bold uppercase tracking-widest hover:bg-[#E54801] transition-all flex items-center gap-2"},{default:u(()=>[...e[19]||(e[19]=[t("i",{class:"fas fa-eye"},null,-1),d(" Voir détails ",-1)])]),_:1})):l("",!0),s.status==="active"?(a(),r("button",xt,[...e[20]||(e[20]=[t("i",{class:"fas fa-file-contract"},null,-1),d(" Télécharger le bail ",-1)])])):l("",!0),e[21]||(e[21]=t("button",{class:"px-6 py-3 bg-white border border-gray-200 text-gray-600 rounded-xl text-xs font-bold uppercase tracking-widest hover:bg-gray-50 transition-all flex items-center gap-2"},[t("i",{class:"fas fa-receipt"}),d(" État des lieux ")],-1)),e[22]||(e[22]=t("button",{class:"px-6 py-3 bg-white border border-gray-200 text-gray-600 rounded-xl text-xs font-bold uppercase tracking-widest hover:bg-gray-50 transition-all flex items-center gap-2"},[t("i",{class:"fas fa-comment-dots"}),d(" Contacter Bailleur ")],-1))])):(a(),r("div",ct,[...e[23]||(e[23]=[t("button",{class:"px-6 py-3 bg-gray-100 text-gray-400 rounded-xl text-xs font-bold uppercase tracking-widest cursor-not-allowed flex items-center gap-2"},[t("i",{class:"fas fa-archive"}),d(" Contrat archivé ")],-1),t("button",{class:"px-6 py-3 bg-white border border-gray-200 text-gray-400 rounded-xl text-xs font-bold uppercase tracking-widest hover:bg-gray-50 transition-all flex items-center gap-2"},[t("i",{class:"fas fa-file-pdf"}),d(" Quittances archivées ")],-1)])]))])],2)}),128)):(a(),r("div",pt,[e[25]||(e[25]=t("div",{class:"w-20 h-20 bg-white rounded-full flex items-center justify-center text-gray-200 text-2xl mx-auto mb-6 shadow-sm"},[t("i",{class:"fas fa-folder-open"})],-1)),e[26]||(e[26]=t("h3",{class:"text-xl font-bold text-gray-400 uppercase tracking-tight"}," Aucun contrat de location ",-1)),e[27]||(e[27]=t("p",{class:"text-sm text-gray-400 mt-2 max-w-sm mx-auto"}," Vous n'avez pas encore de contrat de location actif ou passé enregistré sur votre compte. ",-1)),p(x(c),{to:"/annonces",class:"inline-block mt-8 px-10 py-4 bg-[#E54801] text-white rounded-xl text-xs font-black uppercase tracking-widest hover:scale-105 transition-all shadow-lg shadow-orange-200"},{default:u(()=>[...e[24]||(e[24]=[d(" Chercher un logement ",-1)])]),_:1})]))])])])]))}},vt=z(gt,[["__scopeId","data-v-50a2523b"]]);export{vt as default};
