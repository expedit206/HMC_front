import{_ as w}from"./index-D7Lj447K.js";import{B as h}from"./Sidebar-DVFQKAUN.js";import{D as k,o as n,f as o,h as _,l as F,g as e,k as l,t as r,s as B,F as C,x as E,a as T,r as d,n as u}from"./vendor-DYpG4QdT.js";const A={class:"bg-[#FAF9F5] text-gray-800 antialiased min-h-screen flex relative"},D={class:"flex-1 p-6 lg:p-10 overflow-y-auto transition-all duration-300"},I={class:"max-w-6xl mx-auto"},R={class:"flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-4 animate-fadeIn"},j={class:"flex items-center gap-4"},N={class:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-10 animate-fadeIn",style:{"animation-delay":"0.1s"}},V={class:"bg-white p-8 rounded-[2rem] shadow-sm border border-gray-100 hover:shadow-lg transition-all group"},M={class:"text-3xl font-black text-[#1B0B38] leading-none"},P={class:"bg-white p-8 rounded-[2rem] shadow-sm border border-gray-100 bg-gradient-to-br from-green-50 to-white hover:shadow-lg transition-all relative overflow-hidden group"},S={class:"relative z-10"},z={class:"text-3xl font-black text-green-600 leading-none"},L={class:"text-[10px] text-gray-500 font-black mt-4 uppercase tracking-tighter"},$={class:"bg-white rounded-[2rem] border border-gray-100 shadow-sm overflow-hidden animate-fadeIn",style:{"animation-delay":"0.2s"}},U={key:0,class:"p-12 text-center text-gray-400"},q={key:1,class:"p-12 text-center text-gray-400"},G={key:2,class:"divide-y divide-gray-50"},O={class:"flex items-center gap-6"},H={class:"text-base font-black text-[#1B0B38] group-hover:text-[#E54801] transition-colors"},J={class:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mt-1"},K={class:"text-right w-full sm:w-auto"},Q={__name:"Finances",setup(W){const x=d(!0),i=d(!1),g=d(!0),c=d({monthly_revenue:0,total_collected:0,balance:0}),f=d([]);k(async()=>{g.value=!0;try{const{data:a}=await T.get("/api/bailleur/finances");a.success&&(c.value=a.data.stats,f.value=a.data.transactions)}catch(a){console.error("Erreur chargement finances bailleur:",a)}finally{g.value=!1}});const p=a=>new Intl.NumberFormat("fr-FR").format(a||0),b=a=>new Intl.DateTimeFormat("fr-FR",{day:"numeric",month:"short",year:"numeric"}).format(new Date(a)),v=a=>{switch(a){case"payment":return"fas fa-hand-holding-usd";case"deposit":return"fas fa-plus-circle";case"withdrawal":return"fas fa-arrow-up";case"commission":return"fas fa-percent";default:return"fas fa-exchange-alt"}},y=a=>{switch(a){case"payment":case"deposit":return"text-green-600 bg-green-50";case"withdrawal":return"text-red-500 bg-red-50";default:return"text-blue-500 bg-blue-50"}};return(a,t)=>(n(),o("div",A,[_(h,{expanded:x.value,"is-open":i.value,onToggleExpand:t[0]||(t[0]=s=>x.value=!x.value)},null,8,["expanded","is-open"]),i.value?(n(),o("div",{key:0,onClick:t[1]||(t[1]=s=>i.value=!1),class:"fixed inset-0 bg-black/50 z-30 backdrop-blur-sm lg:hidden transition-opacity duration-300"})):F("",!0),e("main",D,[e("div",I,[e("div",R,[t[6]||(t[6]=e("div",null,[e("h1",{class:"text-3xl font-black text-[#1B0B38] leading-tight"},[l(" Gestion "),e("span",{class:"text-[#E54801]"},"Financière")]),e("p",{class:"text-gray-500 font-medium font-bold uppercase text-[10px] tracking-widest mt-1"}," Revenus, Dépenses et Rapports financiers ")],-1)),e("div",j,[e("button",{onClick:t[2]||(t[2]=s=>i.value=!i.value),class:"lg:hidden p-2 text-gray-500 hover:text-[#E54801] transition-colors"},[...t[3]||(t[3]=[e("i",{class:"fas fa-bars text-xl"},null,-1)])]),t[4]||(t[4]=e("div",{class:"hidden sm:flex items-center gap-2 px-3 py-1.5 bg-green-50 text-green-700 rounded-lg text-xs font-bold border border-green-100"},[e("span",{class:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),l(" Portfolio: 1.2M ")],-1)),t[5]||(t[5]=e("button",{class:"px-6 py-3 bg-[#E54801] text-white text-xs font-black uppercase tracking-widest rounded-xl hover:shadow-lg transition-all shadow-md hover:bg-[#913327]"}," Retirer les fonds ",-1))])]),e("div",N,[e("div",V,[t[8]||(t[8]=e("div",{class:"flex items-center gap-4 mb-6"},[e("div",{class:"w-12 h-12 rounded-2xl bg-orange-50 text-[#E54801] flex items-center justify-center text-2xl group-hover:scale-110 transition-transform"},[e("i",{class:"fas fa-arrow-down"})]),e("p",{class:"text-[11px] text-gray-400 font-black uppercase tracking-widest"}," Revenus Brut (Mois) ")],-1)),e("h3",M,[l(r(p(c.value.monthly_revenue))+" ",1),t[7]||(t[7]=e("span",{class:"text-xs font-bold text-gray-400"},"CFA",-1))]),t[9]||(t[9]=e("p",{class:"text-[10px] text-green-500 font-black mt-4 flex items-center gap-1 uppercase tracking-tighter"},[e("i",{class:"fas fa-caret-up"}),l(" Flux estimé ")],-1))]),t[13]||(t[13]=B('<div class="bg-white p-8 rounded-[2rem] shadow-sm border border-gray-100 hover:shadow-lg transition-all group" data-v-a2420d57><div class="flex items-center gap-4 mb-6" data-v-a2420d57><div class="w-12 h-12 rounded-2xl bg-red-50 text-red-500 flex items-center justify-center text-2xl group-hover:scale-110 transition-transform" data-v-a2420d57><i class="fas fa-arrow-up" data-v-a2420d57></i></div><p class="text-[11px] text-gray-400 font-black uppercase tracking-widest" data-v-a2420d57> Charges &amp; Imprévus </p></div><h3 class="text-3xl font-black text-[#1B0B38] leading-none" data-v-a2420d57> 0 <span class="text-xs font-bold text-gray-400" data-v-a2420d57>CFA</span></h3><p class="text-[10px] text-gray-400 font-bold mt-4 uppercase tracking-widest" data-v-a2420d57> Aucune charge enregistrée </p></div>',1)),e("div",P,[e("div",S,[t[11]||(t[11]=e("div",{class:"flex items-center gap-4 mb-6"},[e("div",{class:"w-12 h-12 rounded-2xl bg-green-100 flex items-center justify-center text-green-600 text-2xl group-hover:scale-110 transition-transform"},[e("i",{class:"fas fa-piggy-bank"})]),e("p",{class:"text-[11px] text-gray-400 font-black uppercase tracking-widest"}," Portefeuille (Solde) ")],-1)),e("h3",z,[l(r(p(c.value.balance))+" ",1),t[10]||(t[10]=e("span",{class:"text-xs font-bold text-gray-400"},"CFA",-1))]),e("p",L," Total collecté : "+r(p(c.value.total_collected))+" CFA ",1)]),t[12]||(t[12]=e("i",{class:"fas fa-wallet absolute -right-4 -bottom-4 text-[80px] text-green-100/50 pointer-events-none group-hover:scale-110 transition-transform duration-500"},null,-1))])]),e("div",$,[t[16]||(t[16]=e("div",{class:"p-8 border-b border-gray-50 flex flex-col sm:flex-row justify-between items-start sm:items-center bg-gray-50/30 gap-4"},[e("h3",{class:"text-sm font-black text-[#1B0B38] uppercase tracking-widest"}," Transactions Récentes "),e("div",{class:"flex gap-2"},[e("button",{class:"text-[9px] font-black uppercase tracking-widest text-[#E54801] px-4 py-2 rounded-xl bg-orange-50"}," Tous ")])],-1)),g.value?(n(),o("div",U,[...t[14]||(t[14]=[e("i",{class:"fas fa-circle-notch fa-spin text-2xl mb-2 text-[#E54801]"},null,-1),e("p",{class:"text-xs font-bold uppercase tracking-widest"}," Chargement... ",-1)])])):f.value.length===0?(n(),o("div",q,[...t[15]||(t[15]=[e("p",{class:"text-sm font-medium"},"Aucune transaction trouvée.",-1)])])):(n(),o("div",G,[(n(!0),o(C,null,E(f.value,s=>{var m;return n(),o("div",{key:s.id,class:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-8 hover:bg-gray-50/50 transition-all group gap-4"},[e("div",O,[e("div",{class:u(["w-14 h-14 rounded-2xl flex items-center justify-center text-2xl shadow-sm group-hover:scale-110 transition-transform",y(s.type)])},[e("i",{class:u(v(s.type))},null,2)],2),e("div",null,[e("p",H,r(s.type==="payment"?"Paiement Loyer":s.type.toUpperCase()),1),e("p",J," Réf: "+r(s.reference)+" • "+r(b(s.created_at))+" • "+r((m=s.payment_method)==null?void 0:m.toUpperCase()),1)])]),e("div",K,[e("p",{class:u(["text-xl font-black",["withdrawal","commission"].includes(s.type)?"text-red-500":"text-green-600"])},r(["withdrawal","commission"].includes(s.type)?"-":"+")+r(p(s.amount))+" CFA ",3),e("span",{class:u(["text-[9px] font-black uppercase tracking-widest bg-gray-50 px-2 py-0.5 rounded",[s.status==="successful"?"text-green-400":"text-orange-400"]])},r(s.status==="successful"?"Terminé":s.status),3)])])}),128))]))]),t[17]||(t[17]=e("div",{class:"p-6 border-t border-gray-50 bg-gray-50/30 text-center"},[e("button",{class:"text-[10px] font-black text-[#E54801] uppercase tracking-[0.2em] hover:translate-x-1 transition-transform inline-flex items-center gap-2"},[l(" Consulter tout l'historique "),e("i",{class:"fas fa-arrow-right"})])],-1))])])]))}},te=w(Q,[["__scopeId","data-v-a2420d57"]]);export{te as default};
