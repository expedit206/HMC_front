import{_ as b}from"./index-DftiFTCt.js";import{A as f}from"./Sidebar-Cf3uAcAf.js";import{D as m,o as a,f as r,h as y,l as h,g as t,k as _,t as o,F as v,x as k,a as w,r as p,n as u}from"./vendor-DYpG4QdT.js";const F={class:"bg-[#F8F9FB] min-h-screen text-gray-800 antialiased flex"},B={class:"flex-1 flex flex-col h-screen overflow-hidden lg:ml-0 transition-all duration-300"},C={class:"bg-white border-b border-gray-100 flex items-center justify-between px-8 h-20 shrink-0 sticky top-0 z-30 shadow-sm"},E={class:"flex items-center gap-6"},S={class:"flex-1 overflow-y-auto p-8 bg-[#F8F9FB]"},D={key:0,class:"flex flex-col items-center justify-center h-full min-h-[60vh]"},T={key:1,class:"max-w-7xl mx-auto"},j={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10"},A={class:"bg-[#1B0B38] p-8 rounded-3xl text-white shadow-xl relative overflow-hidden"},N={class:"relative z-10"},V={class:"text-3xl font-black"},z={class:"bg-white p-8 rounded-3xl border border-gray-100 shadow-sm"},L={class:"text-3xl font-black text-[#E54801]"},I={class:"bg-white rounded-3xl border border-gray-100 shadow-sm overflow-hidden"},M={key:0,class:"p-20 text-center text-gray-400"},P={key:1,class:"overflow-x-auto"},R={class:"w-full text-left"},X={class:"divide-y divide-gray-50"},$={class:"px-6 py-5"},q={class:"text-xs font-black text-[#1B0B38]"},G={class:"text-[10px] text-gray-400 font-medium"},H={class:"px-6 py-5"},O={class:"text-xs font-bold text-gray-600"},U={class:"text-[9px] text-gray-400 uppercase font-black truncate max-w-[200px]"},J={class:"px-6 py-5 text-center"},K={class:"px-6 py-5 text-right font-black text-sm text-[#1B0B38]"},Q={class:"px-6 py-5 text-center"},W={key:0,class:"inline-block w-2 h-2 rounded-full bg-green-500 mr-1 shadow-[0_0_8px_rgba(34,197,94,0.5)]"},Y={key:1,class:"inline-block w-2 h-2 rounded-full bg-orange-500 mr-1 animate-pulse"},Z={__name:"Finances",setup(tt){const i=p(!1),d=p(!0),l=p({transactions:{data:[]},total_revenue:0,monthly_breakdown:[]});m(async()=>{d.value=!0;try{const{data:n}=await w.get("/api/admin/finances");n.success&&(l.value=n.data)}catch(n){console.error("Erreur chargement finances admin:",n)}finally{d.value=!1}});const c=n=>new Intl.NumberFormat("fr-CM").format(n)+" XAF",g=n=>new Date(n).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return(n,e)=>(a(),r("div",F,[y(f,{"is-open":i.value},null,8,["is-open"]),i.value?(a(),r("div",{key:0,onClick:e[0]||(e[0]=s=>i.value=!1),class:"fixed inset-0 bg-black/50 z-40 backdrop-blur-sm lg:hidden transition-opacity duration-300"})):h("",!0),t("div",B,[t("header",C,[t("div",E,[t("button",{onClick:e[1]||(e[1]=s=>i.value=!i.value),class:"w-10 h-10 rounded-xl bg-gray-50 flex items-center justify-center text-gray-400 hover:text-[#913327] transition-all lg:hidden"},[...e[2]||(e[2]=[t("i",{class:"fas fa-bars"},null,-1)])]),e[3]||(e[3]=t("h2",{class:"text-sm font-black text-[#1B0B38] uppercase tracking-tight hidden sm:block"}," Transactions Financières ",-1))]),e[4]||(e[4]=t("div",{class:"flex items-center gap-2 px-4 py-2 bg-green-50 text-green-700 rounded-xl text-xs font-black border border-green-100"},[t("i",{class:"fas fa-shield-alt"}),_(" Comptes Sécurisés ")],-1))]),t("main",S,[d.value?(a(),r("div",D,[...e[5]||(e[5]=[t("div",{class:"w-16 h-16 border-4 border-[#E54801] border-t-transparent rounded-full animate-spin mb-4"},null,-1),t("p",{class:"text-gray-500 font-bold uppercase tracking-widest text-xs"}," Analyse des flux financiers... ",-1)])])):(a(),r("div",T,[t("div",j,[t("div",A,[t("div",N,[e[6]||(e[6]=t("p",{class:"text-[10px] text-gray-400 font-black uppercase tracking-[0.2em] mb-2"}," Volume Total Géré ",-1)),t("h3",V,o(c(l.value.total_revenue)),1)]),e[7]||(e[7]=t("div",{class:"absolute -right-4 -bottom-4 opacity-10 text-8xl shrink-0"},[t("i",{class:"fas fa-coins text-white"})],-1))]),t("div",z,[e[8]||(e[8]=t("p",{class:"text-[10px] text-gray-400 font-black uppercase tracking-[0.2em] mb-2"}," Commissions (Est. 10%) ",-1)),t("h3",L,o(c(l.value.total_revenue*.1)),1)]),e[9]||(e[9]=t("div",{class:"bg-white p-8 rounded-3xl border border-gray-100 shadow-sm"},[t("p",{class:"text-[10px] text-gray-400 font-black uppercase tracking-[0.2em] mb-2"}," Transactions Réussies "),t("h3",{class:"text-3xl font-black text-green-600"},"100%")],-1))]),t("div",I,[e[11]||(e[11]=t("div",{class:"p-6 border-b border-gray-50 flex justify-between items-center bg-gray-50/20"},[t("h4",{class:"text-xs font-black text-[#1B0B38] uppercase tracking-widest"}," Flux Historiques "),t("button",{class:"text-[10px] font-black uppercase tracking-widest text-[#E54801] hover:underline"}," Exporter (.XLS) ")],-1)),l.value.transactions.data.length===0?(a(),r("div",M," Aucune transaction enregistrée ")):(a(),r("div",P,[t("table",R,[e[10]||(e[10]=t("thead",{class:"text-[10px] font-black uppercase text-gray-400 border-b border-gray-50 bg-gray-50/50"},[t("tr",null,[t("th",{class:"px-6 py-5 tracking-widest"},"Date / Réf"),t("th",{class:"px-6 py-5 tracking-widest"},"Utilisateur"),t("th",{class:"px-6 py-5 tracking-widest text-center"},"Type"),t("th",{class:"px-6 py-5 tracking-widest text-right"}," Montant "),t("th",{class:"px-6 py-5 tracking-widest text-center"}," Status ")])],-1)),t("tbody",X,[(a(!0),r(v,null,k(l.value.transactions.data,s=>{var x;return a(),r("tr",{key:s.id,class:"hover:bg-gray-50/50 transition-all"},[t("td",$,[t("p",q," TX-"+o(s.id.toString().padStart(4,"0")),1),t("p",G,o(g(s.created_at)),1)]),t("td",H,[t("p",O,o(((x=s.user)==null?void 0:x.name)||"Inconnu"),1),t("p",U,o(s.description||"Paiement de service"),1)]),t("td",J,[t("span",{class:u(["px-3 py-1 text-[9px] font-black uppercase rounded-lg border",s.type==="credit"?"bg-green-50 text-green-600 border-green-100":"bg-red-50 text-red-600 border-red-100"])},o(s.type),3)]),t("td",K,o(c(s.amount)),1),t("td",Q,[s.status==="completed"||!s.status?(a(),r("span",W)):(a(),r("span",Y)),t("span",{class:u(["text-[9px] font-black uppercase",s.status==="completed"||!s.status?"text-green-600":"text-orange-600"])},o(s.status==="completed"||!s.status?"Complété":"En attente"),3)])])}),128))])])])),e[12]||(e[12]=t("div",{class:"p-6 border-t border-gray-50 bg-gray-50/10 flex justify-between items-center"},[t("span",{class:"text-[10px] text-gray-400 font-black uppercase"},"Pagination disponible")],-1))])]))])])]))}},nt=b(Z,[["__scopeId","data-v-1f0a3980"]]);export{nt as default};
