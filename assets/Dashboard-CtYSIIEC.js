import{D as N,o,f as l,h as c,l as E,g as t,k as r,t as a,i as f,u as p,j as g,F as k,x as _,a as B,r as b,e as F,n as R}from"./vendor-DYpG4QdT.js";import{_ as A}from"./index-D7Lj447K.js";import{P as I}from"./Sidebar-CAEG3rJj.js";const M={class:"bg-[#FAF9F5] text-gray-800 antialiased min-h-screen flex relative"},P={class:"flex-1 overflow-y-auto bg-[#FAF9F5] p-4 lg:p-10 transition-all duration-300"},S={key:0,class:"flex flex-col items-center justify-center h-full min-h-[60vh]"},z={key:1,class:"max-w-7xl mx-auto h-full"},V={class:"lg:hidden flex items-center justify-between mb-6"},L={class:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4 animate-fadeIn"},T={class:"text-2xl font-bold text-gray-900 leading-tight"},$={class:"text-[#E54801]"},U={class:"text-gray-500 text-sm mt-1 font-medium tracking-wide"},G={class:"text-[#1B0B38] font-bold"},H={class:"flex gap-3"},O={class:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8 animate-fadeIn",style:{"animation-delay":"0.1s"}},X={class:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 transition-all hover:shadow-lg"},J={class:"flex items-center justify-between"},K={class:"text-2xl font-bold text-orange-500"},Q={class:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 transition-all hover:shadow-lg"},W={class:"flex items-center justify-between"},Y={class:"text-2xl font-bold text-blue-500"},Z={class:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 transition-all hover:shadow-lg"},q={class:"flex items-center justify-between"},tt={class:"text-2xl font-bold text-green-500"},et={class:"bg-white p-5 rounded-2xl shadow-sm border border-[#E54801]/30 transition-all hover:shadow-lg"},st={class:"flex items-center justify-between"},at={class:"text-2xl font-bold text-[#1B0B38]"},ot={class:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-fadeIn",style:{"animation-delay":"0.2s"}},lt={class:"lg:col-span-2 space-y-6"},rt={class:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden"},nt={class:"p-6 border-b border-gray-50 flex justify-between items-center bg-gray-50/20"},it={key:0,class:"p-10 text-center text-gray-400"},dt={key:1,class:"divide-y divide-gray-50"},xt={class:"flex items-center gap-4"},ct={class:"w-12 h-12 rounded-2xl bg-orange-50 text-[#E54801] flex items-center justify-center font-black shadow-sm group-hover:scale-110 transition-transform"},pt={class:"text-sm font-bold text-[#1B0B38]"},ut={class:"flex items-center gap-3 mt-1"},ft={class:"text-[10px] text-gray-400"},gt={class:"text-[10px] text-[#E54801] font-bold uppercase"},bt={class:"flex items-center gap-3 w-full md:w-auto"},mt={key:0,class:"flex-1 md:flex-none px-4 py-2 bg-white text-gray-400 border border-gray-100 text-[10px] font-black uppercase tracking-widest rounded-lg hover:bg-red-50 hover:text-red-500 transition-all"},vt={class:"bg-white rounded-3xl shadow-sm border border-gray-100 p-6"},ht={class:"flex justify-between items-center mb-6"},wt={class:"text-xs font-bold text-gray-400 uppercase"},yt={key:0,class:"py-10 text-center text-gray-400"},kt={key:1,class:"space-y-4"},_t={class:"text-xs font-black text-gray-400 w-12 pt-1"},Bt={class:"flex-1 p-4 rounded-xl border-l-4 border-blue-500 bg-blue-50/50"},jt={class:"text-xs font-black text-[#1B0B38] uppercase mb-1"},Et={class:"text-[10px] text-gray-500"},Dt={class:"space-y-6"},Ct={class:"bg-[#1B0B38] rounded-3xl p-6 text-white shadow-lg relative overflow-hidden group"},Nt={class:"relative z-10 text-center"},Ft={class:"w-16 h-16 rounded-2xl bg-[#E54801] mx-auto mb-4 flex items-center justify-center text-2xl font-black shadow-lg"},Rt={class:"text-sm font-bold"},At={class:"grid grid-cols-2 gap-2 mt-6"},It={class:"bg-white/5 p-3 rounded-xl border border-white/10"},Mt={class:"text-xs font-black"},Pt={class:"bg-white rounded-3xl p-6 shadow-sm border border-gray-100"},St={key:0,class:"text-center py-4 text-gray-400 text-[10px] uppercase font-bold"},zt={key:1,class:"space-y-3"},Vt={class:"text-[10px] font-bold text-[#1B0B38] uppercase"},Lt={class:"text-[10px] font-black text-[#E54801]"},Tt={class:"bg-gradient-to-br from-[#E54801] to-[#913327] rounded-3xl p-6 text-white shadow-lg relative overflow-hidden group"},$t={class:"relative z-10"},Ut={__name:"Dashboard",setup(Gt){F();const h=b(!0),m=b(!1),w=b(!0),v=b({firstName:"Cher",lastName:"Utilisateur",initials:"CU"}),n=b({stats:{pending:0,active:0,completed:0,earnings:0},recent_interventions:[],today_schedule:[]}),y=b([]);N(async()=>{w.value=!0;try{const[i,e,s]=await Promise.all([B.get("/api/prestataire/dashboard"),B.get("/api/user"),B.get("/api/prestataire/services")]);if(i.data.success&&(n.value=i.data.data),e.data){const d=e.data,x=d.name.split(" ");v.value={firstName:x[0],lastName:x.slice(1).join(" "),initials:d.name.split(" ").map(u=>u[0]).join("").toUpperCase()}}s.data.success&&(y.value=s.data.data)}catch(i){console.error("Erreur chargement dashboard prestataire:",i)}finally{w.value=!1}});const D=new Date().toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),j=i=>new Intl.NumberFormat("fr-FR").format(i||0),C=i=>({plomberie:"faucet",electricite:"bolt",climatisation:"wind",peinture:"paint-roller"})[i==null?void 0:i.slug]||"tools";return(i,e)=>(o(),l("div",M,[c(I,{expanded:h.value,"is-open":m.value,onToggleExpand:e[0]||(e[0]=s=>h.value=!h.value)},null,8,["expanded","is-open"]),m.value?(o(),l("div",{key:0,onClick:e[1]||(e[1]=s=>m.value=!1),class:"fixed inset-0 bg-black/50 z-30 backdrop-blur-sm lg:hidden transition-opacity duration-300"})):E("",!0),t("main",P,[w.value?(o(),l("div",S,[...e[3]||(e[3]=[t("div",{class:"w-16 h-16 border-4 border-[#E54801] border-t-transparent rounded-full animate-spin mb-4"},null,-1),t("p",{class:"text-gray-500 font-bold uppercase tracking-widest text-xs"}," Chargement de votre espace... ",-1)])])):(o(),l("div",z,[t("div",V,[e[5]||(e[5]=t("h1",{class:"text-xl font-bold text-[#1B0B38]"},"Tableau de bord",-1)),t("button",{onClick:e[2]||(e[2]=s=>m.value=!m.value),class:"p-2 text-gray-500 hover:text-[#E54801]"},[...e[4]||(e[4]=[t("i",{class:"fas fa-bars text-xl"},null,-1)])])]),t("div",L,[t("div",null,[t("h1",T,[e[6]||(e[6]=r(" Bonjour, ",-1)),t("span",$,a(v.value.firstName),1),e[7]||(e[7]=r(" ðŸ› ï¸ ",-1))]),t("p",U,[e[8]||(e[8]=r(" Vous avez ",-1)),t("span",G,a(n.value.stats.pending)+" nouvelles demandes",1),e[9]||(e[9]=r(" d'intervention. ",-1))])]),t("div",H,[c(p(g),{to:"/prestataire/agenda",class:"px-5 py-2.5 bg-[#1B0B38] text-white rounded-xl text-xs font-bold hover:scale-105 transition-all shadow-md uppercase tracking-wider flex items-center gap-2"},{default:f(()=>[...e[10]||(e[10]=[t("i",{class:"fas fa-calendar-plus"},null,-1),r(" Mon Planning ",-1)])]),_:1}),c(p(g),{to:"/prestataire/mes-services",class:"px-5 py-2.5 bg-[#E54801] text-white rounded-xl text-xs font-bold hover:scale-105 transition-all shadow-md uppercase tracking-wider flex items-center gap-2"},{default:f(()=>[...e[11]||(e[11]=[t("i",{class:"fas fa-plus"},null,-1),r(" Nouveau Service ",-1)])]),_:1})])]),t("div",O,[t("div",X,[e[13]||(e[13]=t("p",{class:"text-[10px] text-gray-400 font-bold uppercase mb-2 tracking-widest"}," Attente ",-1)),t("div",J,[t("p",K,a(n.value.stats.pending),1),e[12]||(e[12]=t("div",{class:"w-8 h-8 rounded-lg bg-orange-50 flex items-center justify-center text-orange-500"},[t("i",{class:"fas fa-clock"})],-1))])]),t("div",Q,[e[15]||(e[15]=t("p",{class:"text-[10px] text-gray-400 font-bold uppercase mb-2 tracking-widest"}," En cours ",-1)),t("div",W,[t("p",Y,a(n.value.stats.active),1),e[14]||(e[14]=t("div",{class:"w-8 h-8 rounded-lg bg-blue-50 flex items-center justify-center text-blue-500"},[t("i",{class:"fas fa-tools"})],-1))])]),t("div",Z,[e[17]||(e[17]=t("p",{class:"text-[10px] text-gray-400 font-bold uppercase mb-2 tracking-widest"}," TerminÃ©es ",-1)),t("div",q,[t("p",tt,a(n.value.stats.completed),1),e[16]||(e[16]=t("div",{class:"w-8 h-8 rounded-lg bg-green-50 flex items-center justify-center text-green-500"},[t("i",{class:"fas fa-check-circle"})],-1))])]),t("div",et,[e[19]||(e[19]=t("p",{class:"text-[10px] text-[#E54801] font-bold uppercase mb-2 tracking-widest"}," Revenus ",-1)),t("div",st,[t("p",at,a(j(n.value.stats.earnings)),1),e[18]||(e[18]=t("span",{class:"text-[10px] font-bold text-gray-400"},"XAF",-1))])])]),t("div",ot,[t("div",lt,[t("div",rt,[t("div",nt,[e[21]||(e[21]=t("h3",{class:"text-sm font-black text-[#1B0B38] uppercase tracking-widest"}," Demandes RÃ©centes ",-1)),c(p(g),{to:"/prestataire/interventions",class:"text-[10px] font-black text-[#E54801] uppercase tracking-widest hover:underline"},{default:f(()=>[...e[20]||(e[20]=[r("Voir tout",-1)])]),_:1})]),n.value.recent_interventions.length===0?(o(),l("div",it,[...e[22]||(e[22]=[t("i",{class:"fas fa-inbox text-4xl mb-3 opacity-20"},null,-1),t("p",{class:"text-xs font-bold uppercase tracking-widest"}," Aucune demande pour le moment ",-1)])])):(o(),l("div",dt,[(o(!0),l(k,null,_(n.value.recent_interventions,s=>{var d,x,u;return o(),l("div",{key:s.id,class:"p-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4 hover:bg-gray-50/50 transition-all group"},[t("div",xt,[t("div",ct,[t("i",{class:R(`fas fa-${C((d=s.service)==null?void 0:d.category)}`)},null,2)]),t("div",null,[t("h4",pt,a((x=s.service)==null?void 0:x.title),1),t("div",ut,[t("span",ft,[e[23]||(e[23]=t("i",{class:"fas fa-map-marker-alt mr-1"},null,-1)),r(" "+a(((u=s.property)==null?void 0:u.city)||"Cameroun"),1)]),e[24]||(e[24]=t("span",{class:"w-1 h-1 bg-gray-200 rounded-full"},null,-1)),t("span",gt,a(s.status),1)])])]),t("div",bt,[e[25]||(e[25]=t("button",{class:"flex-1 md:flex-none px-4 py-2 bg-[#1B0B38] text-white text-[10px] font-black uppercase tracking-widest rounded-lg hover:bg-[#E54801] transition-all"}," DÃ©tails ",-1)),s.status==="pending"?(o(),l("button",mt," Refuser ")):E("",!0)])])}),128))]))]),t("div",vt,[t("div",ht,[e[26]||(e[26]=t("h3",{class:"text-xs font-black text-[#1B0B38] uppercase tracking-widest"}," Mon Planning - Aujourd'hui ",-1)),t("span",wt,a(p(D)),1)]),n.value.today_schedule.length===0?(o(),l("div",yt,[...e[27]||(e[27]=[t("p",{class:"text-xs font-bold uppercase tracking-widest"}," Rien au planning aujourd'hui ",-1)])])):(o(),l("div",kt,[(o(!0),l(k,null,_(n.value.today_schedule,s=>{var d,x,u;return o(),l("div",{key:s.id,class:"flex items-start gap-4"},[t("span",_t,a(new Date(s.scheduled_at).getHours())+":"+a(new Date(s.scheduled_at).getMinutes().toString().padStart(2,"0")),1),t("div",Bt,[t("h5",jt,a((d=s.service)==null?void 0:d.title),1),t("p",Et,[r(" Client: "+a((x=s.requester)==null?void 0:x.name)+" â€¢ ",1),e[28]||(e[28]=t("i",{class:"fas fa-map-marker-alt"},null,-1)),r(" "+a(((u=s.property)==null?void 0:u.title)||"Lieu non spÃ©cifiÃ©"),1)])])])}),128))])),c(p(g),{to:"/prestataire/agenda",class:"block w-full mt-6 py-3 bg-[#1B0B38]/5 text-[#1B0B38] text-[10px] font-black uppercase tracking-widest rounded-xl hover:bg-[#1B0B38] hover:text-white transition-all text-center"},{default:f(()=>[...e[29]||(e[29]=[r(" Ouvrir l'agenda complet ",-1)])]),_:1})])]),t("div",Dt,[t("div",Ct,[t("div",Nt,[t("div",Ft,a(v.value.initials),1),t("h4",Rt,a(v.value.firstName)+" "+a(v.value.lastName),1),e[33]||(e[33]=t("p",{class:"text-[10px] text-gray-400 uppercase tracking-widest mt-1"}," Prestataire CertifiÃ© ",-1)),t("div",At,[t("div",It,[e[30]||(e[30]=t("p",{class:"text-[9px] text-gray-400 font-bold uppercase mb-1"}," Interventions ",-1)),t("p",Mt,a(n.value.stats.completed),1)]),e[31]||(e[31]=t("div",{class:"bg-white/5 p-3 rounded-xl border border-white/10 flex flex-col items-center justify-center"},[t("p",{class:"text-[9px] text-gray-400 font-bold uppercase mb-1"}," Status "),t("i",{class:"fas fa-check-circle text-[#E54801] text-xs"})],-1))]),c(p(g),{to:"/prestataire/mon-profil",class:"block w-full mt-4 py-2 text-[9px] font-black uppercase tracking-widest bg-white/10 hover:bg-white/20 rounded-lg transition-all text-center"},{default:f(()=>[...e[32]||(e[32]=[r(" GÃ©rer mon profil ",-1)])]),_:1})]),e[34]||(e[34]=t("i",{class:"fas fa-hammer absolute -right-4 -bottom-4 text-6xl text-white/5 rotate-12 group-hover:scale-110 transition-transform"},null,-1))]),t("div",Pt,[e[36]||(e[36]=t("h3",{class:"text-xs font-black text-[#1B0B38] uppercase tracking-[0.2em] mb-6"}," Mes Services ",-1)),y.value.length===0?(o(),l("div",St," Aucun service crÃ©Ã© ")):(o(),l("div",zt,[(o(!0),l(k,null,_(y.value,s=>(o(),l("div",{key:s.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-xl"},[t("span",Vt,a(s.title),1),t("span",Lt,a(j(s.base_price)),1)]))),128))])),c(p(g),{to:"/prestataire/mes-services",class:"block w-full mt-4 py-2 text-[10px] font-black text-[#E54801] uppercase tracking-widest text-center hover:underline"},{default:f(()=>[...e[35]||(e[35]=[r(" GÃ©rer mes services ",-1)])]),_:1})]),t("div",Tt,[t("div",$t,[e[38]||(e[38]=t("h4",{class:"text-xs font-black uppercase tracking-widest mb-2"}," Marketplace Pro ",-1)),e[39]||(e[39]=t("p",{class:"text-[11px] text-white/80 mb-4 leading-relaxed"}," Achetez votre matÃ©riel pro et outillage au meilleur prix sur HMC. ",-1)),c(p(g),{to:"/marketplace",class:"inline-block px-4 py-2 bg-white text-[#E54801] text-[9px] font-black uppercase tracking-widest rounded-lg shadow-md hover:scale-105 transition-all text-center"},{default:f(()=>[...e[37]||(e[37]=[r("Explorer",-1)])]),_:1})]),e[40]||(e[40]=t("i",{class:"fas fa-tools absolute -right-4 -bottom-4 text-6xl text-white/10 group-hover:scale-110 transition-transform"},null,-1))])])])]))])]))}},Kt=A(Ut,[["__scopeId","data-v-6da39828"]]);export{Kt as default};
