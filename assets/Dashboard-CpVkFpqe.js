import{D as B,o,f as d,h as f,l as j,g as t,s as b,t as a,i as v,u as m,j as h,F as w,x as _,a as k,r as x,e as E,k as p}from"./vendor-DYpG4QdT.js";import{_ as V}from"./index-1P3Q4JPB.js";import{A as D}from"./Sidebar-B_9G7nhg.js";const A={class:"bg-[#FAF9F5] text-gray-800 antialiased min-h-screen flex relative"},R={class:"flex-1 overflow-y-auto bg-[#FAF9F5] p-4 lg:p-10 transition-all duration-300"},S={class:"max-w-7xl mx-auto h-full"},F={class:"lg:hidden flex items-center justify-between mb-6"},I={class:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8"},C={class:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-all group animate-fadeIn"},N={class:"text-2xl font-bold text-[#1B0B38] mb-1"},T={class:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-all group animate-fadeIn"},L={class:"text-2xl font-bold text-[#1B0B38] mb-1"},M={class:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-all group animate-fadeIn"},O={class:"text-2xl font-bold text-[#1B0B38] mb-1"},P={class:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-all group animate-fadeIn"},$={class:"text-2xl font-bold text-[#1B0B38] mb-1"},z={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8"},U={class:"lg:col-span-2 space-y-6"},G={class:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden animate-slide-up",style:{"animation-delay":"0.1s"}},H={class:"p-6 border-b border-gray-50 flex justify-between items-center bg-gray-50/30"},Z={key:0,class:"p-10 text-center text-gray-400"},q={key:1,class:"divide-y divide-gray-50"},J={class:"flex-1 min-w-0"},K={class:"font-bold text-[#1B0B38] truncate text-sm"},Q={class:"flex items-center gap-2 mt-1"},W={class:"text-[10px] text-gray-500 font-bold uppercase flex items-center gap-1"},X={class:"text-[10px] text-gray-500 font-bold"},Y={class:"space-y-6"},tt={class:"bg-gradient-to-br from-[#1B0B38] to-[#2c1b3d] rounded-2xl p-6 text-white shadow-xl relative overflow-hidden group animate-slide-up",style:{"animation-delay":"0.2s"}},et={class:"relative z-10 text-center"},st={class:"w-20 h-20 rounded-2xl bg-white/10 border-2 border-white/20 flex items-center justify-center text-xl font-bold mx-auto mb-4 backdrop-blur-sm"},at={class:"text-lg font-bold mb-1"},it={class:"text-xs text-white/70 mb-6 font-medium uppercase tracking-widest"},ot={class:"grid grid-cols-2 gap-4"},dt={class:"text-center p-3 bg-white/10 rounded-xl backdrop-blur-sm hover:bg-white/20 transition-colors"},lt={class:"text-lg font-bold"},rt={class:"text-center p-3 bg-white/10 rounded-xl backdrop-blur-sm hover:bg-white/20 transition-colors"},nt={class:"text-lg font-bold"},ct={class:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm animate-slide-up",style:{"animation-delay":"0.3s"}},xt={class:"flex items-center justify-between mb-6"},ut={class:"text-[10px] font-bold text-[#E54801] bg-orange-50 px-2 py-1 rounded-full uppercase tracking-wider"},ft={key:0,class:"text-center py-6 text-gray-400 text-xs font-bold uppercase"},pt={key:1,class:"space-y-4"},gt={class:"w-10 h-10 rounded-lg bg-blue-50 flex items-center justify-center flex-shrink-0 font-bold text-xs text-blue-600"},bt={class:"flex-1"},vt={class:"font-bold text-[#1B0B38] text-sm group-hover:text-[#E54801] transition-colors"},mt={class:"text-[10px] text-gray-500 font-medium"},ht={__name:"Dashboard",setup(yt){E();const g=x(!0),r=x(!1),y=x(!0),i=x({stats:{managed_properties:0,active_rentals:0,pending_visits:0,rating:0},missions:[],agenda:[]}),u=x({name:"",initials:"",city:""});return B(async()=>{y.value=!0;try{const[n,e]=await Promise.all([k.get("/api/agent/dashboard"),k.get("/api/user")]);if(n.data.success&&(i.value=n.data.data),e.data){const s=e.data;u.value={name:s.name,initials:s.name.split(" ").map(l=>l[0]).join("").toUpperCase(),city:s.city||"Cameroun"}}}catch(n){console.error("Erreur chargement dashboard agent:",n)}finally{y.value=!1}}),(n,e)=>(o(),d("div",A,[f(D,{expanded:g.value,"is-open":r.value,onToggleExpand:e[0]||(e[0]=s=>g.value=!g.value)},null,8,["expanded","is-open"]),r.value?(o(),d("div",{key:0,onClick:e[1]||(e[1]=s=>r.value=!1),class:"fixed inset-0 bg-black/50 z-30 backdrop-blur-sm lg:hidden transition-opacity duration-300"})):j("",!0),t("main",R,[t("div",S,[t("div",F,[e[4]||(e[4]=t("h1",{class:"text-xl font-bold text-[#1B0B38]"},"Tableau de bord",-1)),t("button",{onClick:e[2]||(e[2]=s=>r.value=!r.value),class:"p-2 text-gray-500 hover:text-[#E54801]"},[...e[3]||(e[3]=[t("i",{class:"fas fa-bars text-xl"},null,-1)])])]),e[28]||(e[28]=b('<div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4 animate-fadeIn" data-v-d8f5532d><div data-v-d8f5532d><h1 class="text-2xl font-bold text-[#1B0B38]" data-v-d8f5532d>Tableau de bord</h1><p class="text-gray-500 text-sm mt-1" data-v-d8f5532d> Vue d&#39;ensemble de votre activité d&#39;agent immobilier </p></div><div class="flex items-center gap-2 px-3 py-1 rounded-full bg-green-50 border border-green-200 text-green-600 text-xs font-bold uppercase tracking-wider" data-v-d8f5532d><i class="fas fa-check-circle" data-v-d8f5532d></i> Agent certifié </div></div>',1)),t("div",I,[t("div",C,[e[5]||(e[5]=t("div",{class:"flex items-center justify-between mb-3"},[t("div",{class:"w-10 h-10 rounded-xl bg-blue-50 flex items-center justify-center"},[t("i",{class:"fas fa-building text-blue-600"})]),t("span",{class:"text-xs font-bold text-green-600"},"Total")],-1)),t("p",N,a(i.value.stats.managed_properties),1),e[6]||(e[6]=t("p",{class:"text-xs text-gray-500 font-medium uppercase tracking-wide"}," Biens gérés ",-1))]),t("div",T,[e[7]||(e[7]=t("div",{class:"flex items-center justify-between mb-3"},[t("div",{class:"w-10 h-10 rounded-xl bg-green-50 flex items-center justify-center"},[t("i",{class:"fas fa-key text-green-600"})]),t("span",{class:"text-xs font-bold text-green-600"},"Actifs")],-1)),t("p",L,a(i.value.stats.active_rentals),1),e[8]||(e[8]=t("p",{class:"text-xs text-gray-500 font-medium uppercase tracking-wide"}," Locations ",-1))]),t("div",M,[e[9]||(e[9]=t("div",{class:"flex items-center justify-between mb-3"},[t("div",{class:"w-10 h-10 rounded-xl bg-purple-50 flex items-center justify-center"},[t("i",{class:"fas fa-calendar-alt text-purple-600"})]),t("span",{class:"text-xs font-bold text-orange-600"},"En attente")],-1)),t("p",O,a(i.value.stats.pending_visits),1),e[10]||(e[10]=t("p",{class:"text-xs text-gray-500 font-medium uppercase tracking-wide"}," Visites ",-1))]),t("div",P,[e[11]||(e[11]=t("div",{class:"flex items-center justify-between mb-3"},[t("div",{class:"w-10 h-10 rounded-xl bg-amber-50 flex items-center justify-center"},[t("i",{class:"fas fa-star text-amber-600"})]),t("span",{class:"text-xs font-bold text-amber-600"},"Top")],-1)),t("p",$,a(i.value.stats.rating),1),e[12]||(e[12]=t("p",{class:"text-xs text-gray-500 font-medium uppercase tracking-wide"}," Note moyenne ",-1))])]),t("div",z,[t("div",U,[e[20]||(e[20]=b('<div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 animate-slide-up" data-v-d8f5532d><div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4" data-v-d8f5532d><div data-v-d8f5532d><h3 class="text-lg font-bold text-[#1B0B38]" data-v-d8f5532d> Performance mensuelle </h3><p class="text-xs text-gray-500 font-medium" data-v-d8f5532d> Évolution de vos ventes et commissions </p></div></div><div class="h-64 w-full relative" data-v-d8f5532d><svg viewBox="0 0 400 200" class="w-full h-full overflow-visible" data-v-d8f5532d><polyline points="0,160 100,120 200,100 300,60 400,80" fill="none" stroke="#E54801" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" data-v-d8f5532d></polyline><circle cx="0" cy="160" r="4" fill="#E54801" stroke="white" stroke-width="2" data-v-d8f5532d></circle><circle cx="100" cy="120" r="4" fill="#E54801" stroke="white" stroke-width="2" data-v-d8f5532d></circle><circle cx="200" cy="100" r="4" fill="#E54801" stroke="white" stroke-width="2" data-v-d8f5532d></circle><circle cx="300" cy="60" r="4" fill="#E54801" stroke="white" stroke-width="2" data-v-d8f5532d></circle><circle cx="400" cy="80" r="4" fill="#E54801" stroke="white" stroke-width="2" data-v-d8f5532d></circle></svg></div></div>',1)),t("div",G,[t("div",H,[e[14]||(e[14]=t("div",null,[t("h3",{class:"text-sm font-black text-[#1B0B38] uppercase tracking-widest"}," Missions en attente "),t("p",{class:"text-[10px] text-gray-500 font-bold"}," VISITES À CONFIRMER ")],-1)),f(m(h),{to:"/agent/missions",class:"text-[10px] font-black text-[#E54801] uppercase tracking-widest hover:underline"},{default:v(()=>[...e[13]||(e[13]=[p("Voir tout",-1)])]),_:1})]),i.value.missions.length===0?(o(),d("div",Z,[...e[15]||(e[15]=[t("p",{class:"text-xs font-bold uppercase"}," Aucune mission en attente ",-1)])])):(o(),d("div",q,[(o(!0),d(w,null,_(i.value.missions,s=>{var l,c;return o(),d("div",{key:s.id,class:"p-5 flex items-center gap-4 hover:bg-gray-50 transition-colors group"},[e[18]||(e[18]=t("div",{class:"w-12 h-12 rounded-xl bg-blue-50 text-blue-600 flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform"},[t("i",{class:"fas fa-eye"})],-1)),t("div",J,[t("h4",K," Visite: "+a((l=s.property)==null?void 0:l.title),1),t("div",Q,[t("span",W,[e[16]||(e[16]=t("i",{class:"fas fa-user"},null,-1)),p(" "+a((c=s.visitor)==null?void 0:c.name),1)]),e[17]||(e[17]=t("span",{class:"text-[10px] text-gray-400"},"•",-1)),t("span",X,a(new Date(s.scheduled_at).toLocaleDateString()),1)])]),e[19]||(e[19]=t("button",{class:"w-8 h-8 rounded-lg bg-gray-50 text-gray-400 flex items-center justify-center hover:bg-[#E54801] hover:text-white transition-colors"},[t("i",{class:"fas fa-chevron-right text-xs"})],-1))])}),128))]))])]),t("div",Y,[t("div",tt,[t("div",et,[t("div",st,a(u.value.initials||"?"),1),t("h4",at,a(u.value.name),1),t("div",it,a(u.value.city),1),t("div",ot,[t("div",dt,[t("div",lt,a(i.value.stats.managed_properties),1),e[21]||(e[21]=t("div",{class:"text-[9px] text-white/70 mt-1 font-bold uppercase"}," Biens ",-1))]),t("div",rt,[t("div",nt,a(i.value.stats.active_rentals),1),e[22]||(e[22]=t("div",{class:"text-[9px] text-white/70 mt-1 font-bold uppercase"}," Baux ",-1))])]),f(m(h),{to:"/agent/parametres",class:"w-full mt-6 py-2 bg-white/20 hover:bg-white/30 text-white rounded-xl text-xs font-bold uppercase tracking-widest transition-colors backdrop-blur-sm block"},{default:v(()=>[...e[23]||(e[23]=[p(" Gérer profil ",-1)])]),_:1})]),e[24]||(e[24]=t("i",{class:"fas fa-id-badge absolute -right-6 -bottom-6 text-8xl text-white/5 opacity-50 transform -rotate-12 group-hover:scale-110 transition-transform"},null,-1))]),t("div",ct,[t("div",xt,[e[25]||(e[25]=t("div",null,[t("h3",{class:"text-sm font-black text-[#1B0B38] uppercase tracking-widest"}," Aujourd'hui "),t("p",{class:"text-[10px] text-gray-500 font-bold mt-1"}," VOS RENDEZ-VOUS ")],-1)),t("span",ut,a(i.value.agenda.length)+" RDV",1)]),i.value.agenda.length===0?(o(),d("div",ft," Aucun RDV aujourd'hui ")):(o(),d("div",pt,[(o(!0),d(w,null,_(i.value.agenda,s=>{var l,c;return o(),d("div",{key:s.id,class:"flex items-start gap-3 group"},[t("div",gt,a(new Date(s.scheduled_at).getHours())+":"+a(new Date(s.scheduled_at).getMinutes().toString().padStart(2,"0")),1),t("div",bt,[t("div",vt,a((l=s.property)==null?void 0:l.title),1),t("div",mt," Visiteur: "+a((c=s.visitor)==null?void 0:c.name),1)])])}),128))])),f(m(h),{to:"/agent/agenda",class:"w-full mt-6 py-2 border border-gray-200 text-gray-600 rounded-xl text-xs font-bold uppercase tracking-widest hover:bg-gray-50 transition-colors text-center block"},{default:v(()=>[...e[26]||(e[26]=[t("i",{class:"fas fa-calendar-alt mr-2"},null,-1),p(" Ouvrir l'agenda ",-1)])]),_:1})]),e[27]||(e[27]=b('<div class="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm animate-slide-up" style="animation-delay:0.4s;" data-v-d8f5532d><h3 class="text-xs font-black text-[#1B0B38] uppercase tracking-widest mb-4" data-v-d8f5532d> Actions Rapides </h3><div class="grid grid-cols-2 gap-3" data-v-d8f5532d><button class="p-3 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-100 transition-colors text-[10px] font-bold uppercase flex flex-col items-center justify-center gap-2 h-20" data-v-d8f5532d><i class="fas fa-plus text-lg" data-v-d8f5532d></i><span data-v-d8f5532d>Visite</span></button><button class="p-3 bg-green-50 text-green-600 rounded-xl hover:bg-green-100 transition-colors text-[10px] font-bold uppercase flex flex-col items-center justify-center gap-2 h-20" data-v-d8f5532d><i class="fas fa-file-contract text-lg" data-v-d8f5532d></i><span data-v-d8f5532d>Contrat</span></button></div></div>',1))])])])])]))}},jt=V(ht,[["__scopeId","data-v-d8f5532d"]]);export{jt as default};
