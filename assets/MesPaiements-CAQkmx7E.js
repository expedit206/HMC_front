import{D as B,o as s,f as a,g as t,n as y,h as d,i as c,u,j as x,l as i,k as b,t as l,F as E,x as C,s as P,a as j,r as f,e as D}from"./vendor-DYpG4QdT.js";import{_ as S,u as A}from"./index-DftiFTCt.js";const L={class:"bg-[#FAF9F5] text-gray-800 antialiased min-h-screen flex relative"},T={class:"h-full flex flex-col py-8 px-4 overflow-y-auto custom-scrollbar"},N={class:"space-y-2"},q={key:0},R={key:0},V={key:0},H={key:0},I={key:0},z={key:0,class:"mt-8 pt-8 border-t border-gray-100"},X={class:"space-y-1"},$={class:"mt-auto pt-6"},O={key:0},Q={class:"flex-1 overflow-y-auto bg-[#FAF9F5] p-4 lg:p-8"},G={class:"max-w-6xl mx-auto"},J={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10"},K={class:"bg-[#1B0B38] p-8 rounded-3xl text-white shadow-xl flex flex-col justify-center"},U={class:"text-3xl font-black"},W={class:"text-[10px] text-orange-400 font-bold mt-2 uppercase"},Y={class:"bg-white p-8 rounded-3xl border border-gray-100 shadow-sm flex flex-col justify-center"},Z={class:"text-3xl font-black text-[#1B0B38]"},tt={class:"text-[10px] text-green-500 font-bold mt-2 uppercase"},et={class:"bg-white p-8 rounded-3xl border border-gray-100 shadow-sm flex flex-col justify-center"},st={class:"text-3xl font-black text-[#E54801]"},at={class:"bg-white rounded-3xl border border-gray-100 shadow-sm overflow-hidden"},rt={class:"overflow-x-auto"},ot={class:"w-full text-left"},nt={class:"divide-y divide-gray-50"},lt={key:0},it={key:1},dt={class:"px-6 py-5 text-xs font-bold text-gray-600"},ct={class:"px-6 py-5 text-xs font-black text-[#1B0B38]"},ut={class:"px-6 py-5 text-center"},xt={class:"px-6 py-5 text-right font-black text-sm text-[#1B0B38]"},pt={class:"px-6 py-5 text-center"},gt={class:"px-6 py-5 text-right"},ft={key:0,class:"text-[#E54801] hover:scale-110 transition-transform"},mt={key:1,class:"text-gray-300"},yt={__name:"MesPaiements",setup(bt){const _=D(),w=A(),o=f(!0),v=f(!1),h=f(!0),p=f([]),g=f({total_spent:0,caution:3e5,next_payment:15e4,next_date:"05 Mars 2024"});B(async()=>{try{const{data:n}=await j.get("/api/tenant/payments");n.success&&(p.value=n.data,g.value.total_spent=p.value.filter(e=>e.status==="successful"&&e.type==="payment").reduce((e,r)=>e+parseFloat(r.amount),0))}catch(n){console.error("Erreur chargement paiements:",n)}finally{h.value=!1}});const m=n=>new Intl.NumberFormat("fr-FR").format(n),F=n=>n?new Date(n).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"}):"Indéfini",M=async()=>{await w.logout(),_.push("/auth/connexion")};return(n,e)=>(s(),a("div",L,[t("aside",{id:"sidebar",class:y(["fixed inset-y-0 left-0 z-40 bg-white border-r border-gray-100 transition-all -translate-x-full lg:translate-x-0 lg:sticky lg:top-0 h-screen lg:h-auto overflow-hidden",o.value?"w-64":"w-20"])},[t("div",T,[t("button",{onClick:e[0]||(e[0]=r=>o.value=!o.value),class:"hidden lg:flex items-center justify-center w-8 h-8 rounded-lg bg-gray-50 hover:bg-orange-50 text-gray-400 hover:text-[#E54801] transition mb-6 ml-auto"},[t("i",{class:y(`fas fa-chevron-${o.value?"left":"right"} text-xs`)},null,2)]),t("div",N,[d(u(x),{to:"/locataire/dashboard",class:"sidebar-link flex items-center gap-4 px-4 py-3.5 rounded-2xl text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-[#E54801] transition-all group"},{default:c(()=>[e[2]||(e[2]=t("i",{class:"fas fa-th-large w-5 text-center group-hover:scale-110 transition-transform"},null,-1)),o.value?(s(),a("span",q,"Tableau de bord")):i("",!0)]),_:1}),d(u(x),{to:"/locataire/mes-locations",class:"sidebar-link flex items-center gap-4 px-4 py-3.5 rounded-2xl text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-[#E54801] transition-all group"},{default:c(()=>[e[3]||(e[3]=t("i",{class:"fas fa-key w-5 text-center group-hover:scale-110 transition-transform"},null,-1)),o.value?(s(),a("span",R,"Mes Locations")):i("",!0)]),_:1}),d(u(x),{to:"/locataire/mes-paiements",class:"sidebar-link active flex items-center gap-4 px-4 py-3.5 rounded-2xl text-sm font-medium transition-all group"},{default:c(()=>[e[4]||(e[4]=t("i",{class:"fas fa-credit-card w-5 text-center group-hover:scale-110 transition-transform"},null,-1)),o.value?(s(),a("span",V,"Mes Paiements")):i("",!0)]),_:1}),d(u(x),{to:"/locataire/interventions",class:"sidebar-link flex items-center gap-4 px-4 py-3.5 rounded-2xl text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-[#E54801] transition-all group"},{default:c(()=>[e[5]||(e[5]=t("i",{class:"fas fa-tools w-5 text-center group-hover:scale-110 transition-transform"},null,-1)),o.value?(s(),a("span",H,"Interventions")):i("",!0)]),_:1}),d(u(x),{to:"/locataire/mes-favoris",class:"sidebar-link flex items-center gap-4 px-4 py-3.5 rounded-2xl text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-[#E54801] transition-all group"},{default:c(()=>[e[6]||(e[6]=t("i",{class:"fas fa-heart w-5 text-center group-hover:scale-110 transition-transform"},null,-1)),o.value?(s(),a("span",I,"Mes Favoris")):i("",!0)]),_:1})]),o.value?(s(),a("div",z,[e[9]||(e[9]=t("p",{class:"px-4 text-[11px] font-bold text-gray-400 uppercase tracking-widest mb-4"}," Compte ",-1)),t("div",X,[d(u(x),{to:"/locataire/mon-profil",class:"sidebar-link flex items-center gap-4 px-4 py-3.5 rounded-2xl text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-[#E54801] transition-all group"},{default:c(()=>[...e[7]||(e[7]=[t("i",{class:"fas fa-user-circle w-5 text-center group-hover:scale-110 transition-transform"},null,-1),t("span",null,"Mon Profil",-1)])]),_:1}),d(u(x),{to:"/bailleur/formulaire",class:"sidebar-link flex items-center gap-4 px-4 py-3.5 rounded-2xl text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-[#E54801] transition-all group"},{default:c(()=>[...e[8]||(e[8]=[t("i",{class:"fas fa-hand-holding-heart w-5 text-center group-hover:scale-110 transition-transform"},null,-1),t("span",null,"Devenir Bailleur",-1)])]),_:1})])])):i("",!0),t("div",$,[t("button",{onClick:M,class:"w-full text-xs font-bold text-red-500 hover:bg-red-50 py-3 rounded-xl transition-colors uppercase tracking-widest flex items-center justify-center gap-2 group"},[e[10]||(e[10]=t("i",{class:"fas fa-sign-out-alt group-hover:translate-x-1 transition-transform"},null,-1)),o.value?(s(),a("span",O,"Déconnexion")):i("",!0)])])])],2),v.value?(s(),a("div",{key:0,onClick:e[1]||(e[1]=r=>v.value=!1),class:"fixed inset-0 bg-black/50 z-30 backdrop-blur-sm lg:hidden"})):i("",!0),t("main",Q,[t("div",G,[e[23]||(e[23]=t("div",{class:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4"},[t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 leading-tight"}," Mes Paiements "),t("p",{class:"text-gray-500 text-sm mt-1 font-medium tracking-wide"}," Suivi de vos loyers, charges et téléchargement de vos quittances. ")])],-1)),t("div",J,[t("div",K,[e[12]||(e[12]=t("p",{class:"text-[10px] text-gray-400 font-black uppercase tracking-[0.2em] mb-2"}," Prochain Paiement ",-1)),t("h3",U,[b(l(m(g.value.next_payment))+" ",1),e[11]||(e[11]=t("span",{class:"text-xs"},"XAF",-1))]),t("p",W," Échéance : "+l(g.value.next_date),1)]),t("div",Y,[e[14]||(e[14]=t("p",{class:"text-[10px] text-gray-400 font-black uppercase tracking-[0.2em] mb-2"}," Total Payé (Historique) ",-1)),t("h3",Z,[b(l(m(g.value.total_spent))+" ",1),e[13]||(e[13]=t("span",{class:"text-xs"},"XAF",-1))]),t("p",tt,l(p.value.length)+" Transactions ",1)]),t("div",et,[e[16]||(e[16]=t("p",{class:"text-[10px] text-gray-400 font-black uppercase tracking-[0.2em] mb-2"}," Caution Sécurisée ",-1)),t("h3",st,[b(l(m(g.value.caution))+" ",1),e[15]||(e[15]=t("span",{class:"text-xs font-bold uppercase"},"XAF",-1))]),e[17]||(e[17]=t("p",{class:"text-[10px] text-gray-400 font-bold mt-2 uppercase tracking-widest"}," Compte Escrow HMC ",-1))])]),t("div",at,[e[22]||(e[22]=t("div",{class:"p-6 border-b border-gray-50 flex justify-between items-center bg-gray-50/20"},[t("h4",{class:"text-xs font-black text-[#1B0B38] uppercase tracking-widest"}," Historique des Transactions "),t("div",{class:"flex gap-2"},[t("button",{class:"px-4 py-2 bg-white border border-gray-200 text-[10px] font-black uppercase tracking-widest text-gray-500 rounded-xl hover:bg-gray-50 transition-all"}," Filtrer ")])],-1)),t("div",rt,[t("table",ot,[e[21]||(e[21]=t("thead",{class:"text-[10px] font-black uppercase text-gray-400 border-b border-gray-50 bg-gray-50/50"},[t("tr",null,[t("th",{class:"px-6 py-5 tracking-widest"},"Date"),t("th",{class:"px-6 py-5 tracking-widest"},"Description"),t("th",{class:"px-6 py-5 tracking-widest text-center"},"Méthode"),t("th",{class:"px-6 py-5 tracking-widest text-right"},"Montant"),t("th",{class:"px-6 py-5 tracking-widest text-center"},"Status"),t("th",{class:"px-6 py-5 tracking-widest text-right"}," Quittance ")])],-1)),t("tbody",nt,[h.value?(s(),a("tr",lt,[...e[18]||(e[18]=[t("td",{colspan:"6",class:"px-6 py-10 text-center text-gray-400 italic"},[t("i",{class:"fas fa-circle-notch fa-spin mr-2"}),b(" Chargement... ")],-1)])])):p.value.length===0?(s(),a("tr",it,[...e[19]||(e[19]=[t("td",{colspan:"6",class:"px-6 py-10 text-center text-gray-400 italic"}," Aucune transaction trouvée. ",-1)])])):(s(!0),a(E,{key:2},C(p.value,r=>{var k;return s(),a("tr",{key:r.id,class:"hover:bg-gray-50/50 transition-all"},[t("td",dt,l(F(r.created_at)),1),t("td",ct,l(r.type==="payment"?"Loyer "+(((k=r.metadata)==null?void 0:k.month)||""):"Transaction"),1),t("td",ut,[t("span",{class:y(["px-3 py-1 text-[9px] font-black uppercase rounded-lg",r.payment_method==="om"?"bg-orange-50 text-orange-600":"bg-blue-50 text-blue-600"])},l(r.payment_method==="om"?"Orange Money":"MoMo"),3)]),t("td",xt,l(m(r.amount)),1),t("td",pt,[t("span",{class:y(["text-[10px] font-black uppercase",r.status==="successful"?"text-green-600":"text-orange-500"])},l(r.status==="successful"?"Réussi":"En attente"),3)]),t("td",gt,[r.status==="successful"?(s(),a("button",ft,[...e[20]||(e[20]=[t("i",{class:"fas fa-file-download"},null,-1)])])):(s(),a("span",mt,"-"))])])}),128))])])])]),e[24]||(e[24]=P('<div class="mt-8 bg-blue-50 rounded-2xl p-6 border border-blue-100 flex items-center gap-6" data-v-d98c1c37><div class="w-12 h-12 bg-white rounded-xl flex items-center justify-center text-blue-600 text-xl shadow-sm shrink-0" data-v-d98c1c37><i class="fas fa-shield-check" data-v-d98c1c37></i></div><div data-v-d98c1c37><h4 class="text-sm font-black text-blue-900 uppercase tracking-tight" data-v-d98c1c37> Paiement Sécurisé HMC </h4><p class="text-xs text-blue-700/80 mt-1" data-v-d98c1c37> Tous vos paiements sont protégés par notre technologie de séquestre. Le bailleur ne reçoit l&#39;argent que si le logement respecte les termes du contrat. </p></div></div>',1))])])]))}},_t=S(yt,[["__scopeId","data-v-d98c1c37"]]);export{_t as default};
