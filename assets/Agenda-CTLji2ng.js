import{_ as Y}from"./index-D7Lj447K.js";import{A as z}from"./Sidebar-BPwZCyGj.js";import{D as G,o as d,f as o,h as I,l as D,g as e,s as E,t as n,F as b,x as m,a as R,r as c,y as _,n as F,k as B}from"./vendor-DYpG4QdT.js";const q={class:"bg-[#FAF9F5] text-gray-800 antialiased min-h-screen flex relative"},H={class:"flex-1 overflow-y-auto bg-[#FAF9F5] p-4 lg:p-8 transition-all duration-300"},J={class:"max-w-7xl mx-auto h-full"},P={class:"lg:hidden flex items-center justify-between mb-6"},W={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-10 animate-slide-up",style:{"animation-delay":"0.1s"}},K={class:"lg:col-span-2"},Q={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},U={class:"flex items-center justify-between mb-6"},X={class:"text-2xl font-bold text-[#1B0B38]"},Z={class:"flex gap-2"},tt={class:"mb-6"},et={class:"grid grid-cols-7 gap-1 mb-2"},at={class:"grid grid-cols-7 gap-1"},st=["onClick"],rt={class:"mb-1"},dt={key:0,class:"flex flex-col gap-1 w-full px-1"},ot={key:0,class:"text-[8px] text-gray-400"},nt={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},lt={key:0,class:"text-center py-10"},it={key:1,class:"text-center py-10 text-gray-400 text-sm"},ct={key:2,class:"space-y-4"},vt={class:"text-sm font-bold text-[#1B0B38]"},gt={class:"text-xs text-gray-600 mt-1"},ut={class:"text-xs text-gray-600"},pt={class:"mt-3"},xt={class:"inline-block px-2 py-1 rounded text-[10px] font-bold bg-orange-100 text-[#E54801] border border-orange-200"},bt={__name:"Agenda",setup(mt){const f=c(!0),v=c(!1),y=c(null),h=c(!0),p=c([]),i=c(new Date),A=["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],S=_(()=>i.value.toLocaleString("fr-FR",{month:"long"})),C=_(()=>i.value.getFullYear());G(async()=>{h.value=!0;try{const{data:s}=await R.get("/api/agent/agenda");s.success&&(p.value=s.data.map(t=>({...t,type:"booked",label:"Visite",date:new Date(t.scheduled_at)})))}catch(s){console.error("Erreur chargement agenda agent:",s)}finally{h.value=!1}});const N=_(()=>{const s=i.value.getFullYear(),t=i.value.getMonth(),a=new Date(s,t,1),l=new Date(s,t+1,0).getDate();let w=a.getDay()-1;w===-1&&(w=6);const u=[],M=new Date(s,t,0).getDate();for(let r=w-1;r>=0;r--)u.push({dayNumber:M-r,isOtherMonth:!0,date:new Date(s,t-1,M-r)});const O=new Date;for(let r=1;r<=l;r++){const j=new Date(s,t,r);u.push({dayNumber:r,isOtherMonth:!1,isToday:j.toDateString()===O.toDateString(),date:j})}const $=42-u.length;for(let r=1;r<=$;r++)u.push({dayNumber:r,isOtherMonth:!0,date:new Date(s,t+1,r)});return u}),k=s=>{const t=new Date(i.value);t.setMonth(t.getMonth()+s),i.value=t},V=()=>{i.value=new Date},L=s=>{y.value=s},x=s=>p.value.filter(t=>t.date.getDate()===s.getDate()&&t.date.getMonth()===s.getMonth()&&t.date.getFullYear()===s.getFullYear()),T=s=>{switch(s){case"available":return"bg-green-100 text-green-600 border border-green-200";case"booked":return"bg-orange-100 text-[#E54801] border border-orange-200";case"busy":return"bg-gray-100 text-gray-500 border border-gray-200";default:return"bg-gray-100"}};return(s,t)=>(d(),o("div",q,[I(z,{expanded:f.value,"is-open":v.value,onToggleExpand:t[0]||(t[0]=a=>f.value=!f.value)},null,8,["expanded","is-open"]),v.value?(d(),o("div",{key:0,onClick:t[1]||(t[1]=a=>v.value=!1),class:"fixed inset-0 bg-black/50 z-30 backdrop-blur-sm lg:hidden transition-opacity duration-300"})):D("",!0),e("main",H,[e("div",J,[e("div",P,[t[6]||(t[6]=e("h1",{class:"text-xl font-bold text-[#1B0B38]"},"Agenda",-1)),e("button",{onClick:t[2]||(t[2]=a=>v.value=!v.value),class:"p-2 text-gray-500 hover:text-[#E54801]"},[...t[5]||(t[5]=[e("i",{class:"fas fa-bars text-xl"},null,-1)])])]),t[14]||(t[14]=E('<div class="text-center mb-10 animate-fadeIn" data-v-1339527c><div class="inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-gradient-to-br from-[#E54801] to-[#913327] mb-6 shadow-lg" data-v-1339527c><i class="fas fa-calendar-alt text-4xl text-white" data-v-1339527c></i></div><h1 class="text-3xl sm:text-4xl font-bold text-[#1B0B38] mb-3" data-v-1339527c> Votre Agenda Professionnel </h1><p class="text-gray-600 max-w-2xl mx-auto" data-v-1339527c> Gérez votre emploi du temps, vos visites clients et vos périodes de disponibilité pour optimiser votre activité immobilière. </p></div><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-10 animate-slide-up" data-v-1339527c><div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6" data-v-1339527c><div class="flex items-center justify-between" data-v-1339527c><div data-v-1339527c><p class="text-sm text-gray-600 mb-1" data-v-1339527c> Rendez-vous cette semaine </p><p class="text-3xl font-bold text-[#E54801]" data-v-1339527c>5</p></div><i class="fas fa-calendar-check text-4xl text-[#E54801]/20" data-v-1339527c></i></div></div><div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6" data-v-1339527c><div class="flex items-center justify-between" data-v-1339527c><div data-v-1339527c><p class="text-sm text-gray-600 mb-1" data-v-1339527c> Heures libres cette semaine </p><p class="text-3xl font-bold text-green-500" data-v-1339527c>12h30</p></div><i class="fas fa-hourglass-half text-4xl text-green-500/20" data-v-1339527c></i></div></div><div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6" data-v-1339527c><div class="flex items-center justify-between" data-v-1339527c><div data-v-1339527c><p class="text-sm text-gray-600 mb-1" data-v-1339527c>Visites programmées</p><p class="text-3xl font-bold text-blue-500" data-v-1339527c>8</p></div><i class="fas fa-map-marker-alt text-4xl text-blue-500/20" data-v-1339527c></i></div></div><div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6" data-v-1339527c><div class="flex items-center justify-between" data-v-1339527c><div data-v-1339527c><p class="text-sm text-gray-600 mb-1" data-v-1339527c>Taux d&#39;occupation</p><p class="text-3xl font-bold text-purple-500" data-v-1339527c>65%</p></div><i class="fas fa-chart-pie text-4xl text-purple-500/20" data-v-1339527c></i></div></div></div>',2)),e("div",W,[e("div",K,[e("div",Q,[e("div",U,[e("div",null,[e("h2",X,n(S.value)+" "+n(C.value),1)]),e("div",Z,[e("button",{onClick:t[3]||(t[3]=a=>k(-1)),class:"p-2 hover:bg-gray-100 rounded-lg transition text-[#E54801]"},[...t[7]||(t[7]=[e("i",{class:"fas fa-chevron-left"},null,-1)])]),e("button",{onClick:V,class:"px-4 py-2 text-sm font-medium text-[#E54801] hover:bg-gray-100 rounded-lg transition"}," Aujourd'hui "),e("button",{onClick:t[4]||(t[4]=a=>k(1)),class:"p-2 hover:bg-gray-100 rounded-lg transition text-[#E54801]"},[...t[8]||(t[8]=[e("i",{class:"fas fa-chevron-right"},null,-1)])])])]),e("div",tt,[e("div",et,[(d(),o(b,null,m(A,a=>e("div",{key:a,class:"text-center text-sm font-semibold text-gray-600 py-2"},n(a),1)),64))]),e("div",at,[(d(!0),o(b,null,m(N.value,(a,g)=>(d(),o("div",{key:g,class:F(["calendar-cell rounded-lg p-2 text-center cursor-pointer border border-transparent hover:border-gray-200 min-h-[80px] flex flex-col items-center justify-start",a.isOtherMonth?"opacity-30":"",a.isToday?"border-2 border-[#E54801] font-bold":"",y.value&&a.date.toDateString()===y.value.toDateString()?"bg-gradient-to-br from-[#E54801] to-[#913327] text-white shadow-md":"hover:bg-gray-50"]),onClick:l=>L(a.date)},[e("span",rt,n(a.dayNumber),1),x(a.date).length>0?(d(),o("div",dt,[(d(!0),o(b,null,m(x(a.date).slice(0,2),l=>(d(),o("div",{key:l.id,class:F(`text-[8px] truncate w-full rounded px-1 py-0.5 ${T(l.type)}`)},n(l.label),3))),128)),x(a.date).length>2?(d(),o("div",ot," +"+n(x(a.date).length-2),1)):D("",!0)])):D("",!0)],10,st))),128))])]),t[9]||(t[9]=E('<div class="border-t border-gray-100 pt-4" data-v-1339527c><p class="text-xs font-semibold text-gray-600 mb-3" data-v-1339527c>LÉGENDE</p><div class="grid grid-cols-2 sm:grid-cols-3 gap-3 text-sm" data-v-1339527c><div class="flex items-center gap-2" data-v-1339527c><div class="w-4 h-4 rounded bg-green-100 border border-green-300" data-v-1339527c></div><span class="text-gray-700" data-v-1339527c>Disponible</span></div><div class="flex items-center gap-2" data-v-1339527c><div class="w-4 h-4 rounded bg-gradient-to-br from-[#E54801] to-[#913327]" data-v-1339527c></div><span class="text-gray-700" data-v-1339527c>Réservé</span></div><div class="flex items-center gap-2" data-v-1339527c><div class="w-4 h-4 rounded bg-gray-300" data-v-1339527c></div><span class="text-gray-700" data-v-1339527c>Occupé</span></div></div></div>',1))])]),e("div",null,[e("div",nt,[t[13]||(t[13]=e("h3",{class:"text-xl font-bold text-[#1B0B38] mb-6"}," Événements à venir ",-1)),h.value?(d(),o("div",lt,[...t[10]||(t[10]=[e("i",{class:"fas fa-circle-notch fa-spin text-[#E54801]"},null,-1)])])):p.value.length===0?(d(),o("div",it," Aucun événement prévu. ")):(d(),o("div",ct,[(d(!0),o(b,null,m(p.value.slice(0,5),a=>{var g,l;return d(),o("div",{key:a.id,class:"border-l-4 border-[#E54801] pl-4 py-2 hover:bg-orange-50/50 transition-colors rounded-r-lg"},[e("p",vt,n(a.label)+": "+n((g=a.property)==null?void 0:g.title),1),e("p",gt,[t[11]||(t[11]=e("i",{class:"fas fa-calendar text-[#E54801] mr-2"},null,-1)),B(" "+n(a.date.toLocaleDateString())+" à "+n(a.date.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),1)]),e("p",ut,[t[12]||(t[12]=e("i",{class:"fas fa-user text-[#E54801] mr-2"},null,-1)),B(" "+n((l=a.visitor)==null?void 0:l.name),1)]),e("div",pt,[e("span",xt,n(a.status),1)])])}),128))]))])])]),t[15]||(t[15]=E('<div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6 animate-slide-up" style="animation-delay:0.2s;" data-v-1339527c><h3 class="text-2xl font-bold text-[#1B0B38] mb-6" data-v-1339527c> Gérer vos disponibilités </h3><div class="grid grid-cols-1 md:grid-cols-2 gap-6" data-v-1339527c><div data-v-1339527c><h4 class="font-bold text-gray-900 mb-4" data-v-1339527c> Vos heures de travail habituelles </h4><div class="space-y-4" data-v-1339527c><div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg" data-v-1339527c><span class="font-medium text-gray-700" data-v-1339527c>Lundi - Vendredi</span><div class="flex items-center gap-2" data-v-1339527c><input type="time" value="08:00" class="px-2 py-1 border border-gray-200 rounded text-sm outline-none focus:border-[#E54801]" data-v-1339527c><span class="text-gray-600" data-v-1339527c>à</span><input type="time" value="18:00" class="px-2 py-1 border border-gray-200 rounded text-sm outline-none focus:border-[#E54801]" data-v-1339527c></div></div><div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg" data-v-1339527c><span class="font-medium text-gray-700" data-v-1339527c>Samedi</span><div class="flex items-center gap-2" data-v-1339527c><input type="time" value="09:00" class="px-2 py-1 border border-gray-200 rounded text-sm outline-none focus:border-[#E54801]" data-v-1339527c><span class="text-gray-600" data-v-1339527c>à</span><input type="time" value="16:00" class="px-2 py-1 border border-gray-200 rounded text-sm outline-none focus:border-[#E54801]" data-v-1339527c></div></div><div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg" data-v-1339527c><span class="font-medium text-gray-700" data-v-1339527c>Dimanche</span><label class="flex items-center gap-2 cursor-pointer" data-v-1339527c><input type="checkbox" checked class="w-4 h-4 text-[#E54801] focus:ring-[#E54801] rounded border-gray-300" data-v-1339527c><span class="text-sm text-gray-600" data-v-1339527c>Fermé</span></label></div></div></div><div data-v-1339527c><h4 class="font-bold text-gray-900 mb-4" data-v-1339527c>Actions rapides</h4><div class="space-y-3" data-v-1339527c><button class="w-full flex items-center justify-between p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition group" data-v-1339527c><span class="font-medium text-green-900" data-v-1339527c><i class="fas fa-check-circle mr-2" data-v-1339527c></i> Marquer comme disponible (semaine) </span><i class="fas fa-arrow-right text-green-600 group-hover:translate-x-1 transition-transform" data-v-1339527c></i></button><button class="w-full flex items-center justify-between p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition group" data-v-1339527c><span class="font-medium text-gray-900" data-v-1339527c><i class="fas fa-lock mr-2" data-v-1339527c></i> Fermer mon agenda (congés) </span><i class="fas fa-arrow-right text-gray-600 group-hover:translate-x-1 transition-transform" data-v-1339527c></i></button><button class="w-full flex items-center justify-between p-4 bg-[#E54801]/10 border border-[#E54801]/20 rounded-lg hover:bg-[#E54801]/20 transition group" data-v-1339527c><span class="font-medium text-[#E54801]" data-v-1339527c><i class="fas fa-calendar-plus mr-2" data-v-1339527c></i> Ajouter une période </span><i class="fas fa-arrow-right text-[#E54801] group-hover:translate-x-1 transition-transform" data-v-1339527c></i></button></div></div></div><div class="mt-6 pt-6 border-t border-gray-100" data-v-1339527c><button class="w-full px-6 py-3 bg-gradient-to-r from-[#E54801] to-[#913327] text-white rounded-lg font-semibold hover:shadow-lg transition" data-v-1339527c><i class="fas fa-save mr-2" data-v-1339527c></i> Enregistrer les modifications </button></div></div>',1))])])]))}},Dt=Y(bt,[["__scopeId","data-v-1339527c"]]);export{Dt as default};
