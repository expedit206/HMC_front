import{D as P,o as a,f as o,g as t,l as r,n as f,t as l,u,h as x,i as c,j as p,k as i,F as k,x as B,s as I,G as L,a as N,r as g,y as j,e as V}from"./vendor-DYpG4QdT.js";import{_ as M,u as R}from"./index-D7Lj447K.js";const S={class:"bg-[#FAF9F5] text-gray-800 antialiased min-h-screen flex relative"},T={class:"h-full flex flex-col py-8 px-4 overflow-y-auto custom-scrollbar"},O={class:"flex items-center justify-between mb-8"},$={key:0,class:"flex items-center gap-2"},q={key:0,class:"mb-8 p-3 bg-orange-50/60 rounded-2xl flex items-center gap-3"},G={class:"w-10 h-10 bg-gradient-to-br from-[#E54801] to-[#1B0B38] rounded-full flex items-center justify-center text-white text-sm font-bold shrink-0"},H={class:"min-w-0"},K={class:"text-sm font-bold text-[#1B0B38] truncate"},U={class:"space-y-1.5"},J={key:0},Q={key:0},W={key:0,class:"ml-2 text-[10px] bg-[#E54801]/10 text-[#E54801] px-1.5 py-0.5 rounded-full font-bold"},X={key:0},Y={key:0},Z={key:0},tt={key:0},et={key:0,class:"ml-2 text-[10px] bg-red-100 text-red-600 px-1.5 py-0.5 rounded-full font-bold"},st={key:0},lt={key:1,class:"mt-8 pt-8 border-t border-gray-50"},at={class:"mt-auto pt-6"},ot={key:0},nt={class:"flex-1 overflow-y-auto bg-[#FAF9F5] p-4 lg:p-8"},rt={class:"max-w-6xl mx-auto"},it={class:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4"},dt={class:"text-2xl font-bold text-gray-900"},ut={class:"text-[#E54801]"},xt={class:"text-gray-500 text-sm mt-1"},ct={class:"flex gap-3"},pt={key:0},bt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},ft={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},gt={class:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:border-[#E54801]/30 transition-all group"},mt={class:"text-xl font-bold text-gray-900 mt-1"},vt={class:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:border-[#E54801]/30 transition-all"},yt={class:"flex justify-between items-start mb-4"},ht={class:"px-2 py-1 rounded-lg bg-blue-50 text-blue-600 text-[10px] font-bold"},_t={class:"text-2xl font-bold text-gray-900 mt-1"},wt={class:"w-full h-1.5 bg-gray-100 rounded-full mt-3 overflow-hidden"},kt={class:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:border-red-200 transition-all"},jt={class:"flex justify-between items-start mb-4"},Et={key:0,class:"px-2 py-1 rounded-lg bg-red-50 text-red-600 text-[10px] font-bold"},Bt={key:1,class:"px-2 py-1 rounded-lg bg-green-50 text-green-600 text-[10px] font-bold"},Ft={class:"text-xl font-bold text-gray-900 mt-1"},Ct={key:0,class:"text-xs font-normal text-gray-400 ml-1"},At={class:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:border-purple-200 transition-all"},Dt={class:"flex justify-between items-start mb-4"},zt={key:0,class:"px-2 py-1 rounded-lg bg-purple-50 text-purple-600 text-[10px] font-bold"},Pt={class:"text-2xl font-bold text-gray-900 mt-1"},It={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Lt={class:"lg:col-span-2"},Nt={class:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden"},Vt={class:"p-6 border-b border-gray-50 flex justify-between items-center"},Mt={class:"text-sm text-gray-500 mt-0.5"},Rt={key:0,class:"p-12 text-center text-gray-400"},St={key:1,class:"divide-y divide-gray-50"},Tt={class:"flex items-center gap-4"},Ot={class:"relative shrink-0"},$t=["src","alt"],qt={class:"text-sm font-bold text-gray-900 group-hover:text-[#E54801] transition-colors line-clamp-1"},Gt={class:"text-xs text-gray-400 mt-0.5 flex items-center gap-1"},Ht={key:0,class:"text-xs text-gray-500 mt-0.5"},Kt={class:"text-right shrink-0"},Ut={class:"text-sm font-bold text-gray-900"},Jt={class:"p-4 bg-gray-50 border-t border-gray-100"},Qt={class:"space-y-6"},Wt={class:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100"},Xt={class:"space-y-3"},Yt={class:"flex items-center justify-between py-2 border-b border-gray-50"},Zt={class:"font-bold text-[#1B0B38]"},te={class:"flex items-center justify-between py-2 border-b border-gray-50"},ee={class:"font-bold text-green-600"},se={class:"flex items-center justify-between py-2 border-b border-gray-50"},le={class:"font-bold text-blue-600"},ae={key:0,class:"flex items-center justify-between py-2"},oe={class:"font-bold text-red-600"},ne={class:"bg-gradient-to-br from-[#1B0B38] to-[#2d1463] rounded-2xl p-6 text-white overflow-hidden relative"},re={class:"relative z-10"},ie={__name:"Dashboard",setup(de){const E=V(),m=R(),h=g(!0),s=g({monthly_revenue:0,total_properties:0,occupied_count:0,available_count:0,occupancy_rate:0,unpaid_count:0,unpaid_amount:0,interventions:0}),_=g([]),F=j(()=>{var e;return(((e=m.user)==null?void 0:e.name)??"").split(" ")[0]||"Bailleur"}),C=j(()=>{var e;return(((e=m.user)==null?void 0:e.name)??"B").split(" ").map(y=>y[0]).join("").toUpperCase().slice(0,2)}),d=g(!0),v=g(!1),A=j(()=>new Date().toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),D=async()=>{var b;h.value=!0;try{const{data:e}=await N.get("/api/bailleur/dashboard");e.success&&(s.value=e.data.stats,_.value=e.data.properties)}catch(e){console.error("Erreur dashboard bailleur:",e),((b=e.response)==null?void 0:b.status)===401&&E.push("/auth/connexion")}finally{h.value=!1}},w=b=>new Intl.NumberFormat("fr-FR").format(b||0),z=async()=>{await m.logout(),E.push("/auth/connexion")};return P(()=>D()),(b,e)=>{var y;return a(),o("div",S,[t("aside",{class:f(["fixed inset-y-0 left-0 z-40 bg-white border-r border-gray-100 transition-all duration-300","-translate-x-full lg:translate-x-0 lg:sticky lg:top-0 h-screen lg:h-auto overflow-hidden",d.value?"w-64":"w-20",v.value?"!translate-x-0":""])},[t("div",T,[t("div",O,[d.value?(a(),o("div",$,[...e[3]||(e[3]=[t("div",{class:"w-8 h-8 bg-[#E54801] rounded-lg flex items-center justify-center"},[t("i",{class:"fas fa-home text-white text-sm"})],-1),t("span",{class:"font-black text-[#1B0B38] text-sm tracking-tight"},"Home Cam",-1)])])):r("",!0),t("button",{onClick:e[0]||(e[0]=n=>d.value=!d.value),class:"hidden lg:flex items-center justify-center w-8 h-8 rounded-lg bg-gray-50 hover:bg-orange-50 text-gray-400 hover:text-[#E54801] transition"},[t("i",{class:f(`fas fa-chevron-${d.value?"left":"right"} text-xs`)},null,2)])]),d.value?(a(),o("div",q,[t("div",G,l(C.value),1),t("div",H,[t("p",K,l(((y=u(m).user)==null?void 0:y.name)??"..."),1),e[4]||(e[4]=t("p",{class:"text-[10px] text-gray-400 uppercase tracking-widest"}," Bailleur ",-1))])])):r("",!0),t("nav",U,[x(u(p),{to:"/bailleur/dashboard",class:"sidebar-link active flex items-center gap-4 px-4 py-3.5 rounded-2xl text-sm font-medium transition-all group"},{default:c(()=>[e[5]||(e[5]=t("i",{class:"fas fa-chart-pie w-5 text-center group-hover:scale-110 transition-transform"},null,-1)),d.value?(a(),o("span",J,"Tableau de bord")):r("",!0)]),_:1}),x(u(p),{to:"/bailleur/mes-biens",class:"sidebar-link flex items-center gap-4 px-4 py-3.5 rounded-2xl text-sm font-medium text-gray-400 hover:bg-gray-50 hover:text-[#E54801] transition-all group"},{default:c(()=>[e[7]||(e[7]=t("i",{class:"fas fa-building w-5 text-center group-hover:scale-110 transition-transform"},null,-1)),d.value?(a(),o("span",Q,[e[6]||(e[6]=i("Mes Biens ",-1)),s.value.total_properties?(a(),o("span",W,l(s.value.total_properties),1)):r("",!0)])):r("",!0)]),_:1}),x(u(p),{to:"/bailleur/publier-bien",class:"sidebar-link flex items-center gap-4 px-4 py-3.5 rounded-2xl text-sm font-medium text-gray-400 hover:bg-gray-50 hover:text-[#E54801] transition-all group"},{default:c(()=>[e[8]||(e[8]=t("i",{class:"fas fa-plus-circle w-5 text-center group-hover:scale-110 transition-transform"},null,-1)),d.value?(a(),o("span",X,"Publier un Bien")):r("",!0)]),_:1}),x(u(p),{to:"/bailleur/mes-locataires",class:"sidebar-link flex items-center gap-4 px-4 py-3.5 rounded-2xl text-sm font-medium text-gray-400 hover:bg-gray-50 hover:text-[#E54801] transition-all group"},{default:c(()=>[e[9]||(e[9]=t("i",{class:"fas fa-users w-5 text-center group-hover:scale-110 transition-transform"},null,-1)),d.value?(a(),o("span",Y,"Locataires")):r("",!0)]),_:1}),x(u(p),{to:"/bailleur/finances",class:"sidebar-link flex items-center gap-4 px-4 py-3.5 rounded-2xl text-sm font-medium text-gray-400 hover:bg-gray-50 hover:text-[#E54801] transition-all group"},{default:c(()=>[e[10]||(e[10]=t("i",{class:"fas fa-wallet w-5 text-center group-hover:scale-110 transition-transform"},null,-1)),d.value?(a(),o("span",Z,"Finances")):r("",!0)]),_:1}),x(u(p),{to:"/bailleur/interventions",class:"sidebar-link flex items-center gap-4 px-4 py-3.5 rounded-2xl text-sm font-medium text-gray-400 hover:bg-gray-50 hover:text-[#E54801] transition-all group"},{default:c(()=>[e[12]||(e[12]=t("i",{class:"fas fa-tools w-5 text-center group-hover:scale-110 transition-transform"},null,-1)),d.value?(a(),o("span",tt,[e[11]||(e[11]=i("Interventions ",-1)),s.value.interventions>0?(a(),o("span",et,l(s.value.interventions),1)):r("",!0)])):r("",!0)]),_:1}),x(u(p),{to:"/bailleur/assistance",class:"sidebar-link flex items-center gap-4 px-4 py-3.5 rounded-2xl text-sm font-medium text-gray-400 hover:bg-gray-50 hover:text-[#E54801] transition-all group"},{default:c(()=>[e[13]||(e[13]=t("i",{class:"fas fa-headset w-5 text-center group-hover:scale-110 transition-transform"},null,-1)),d.value?(a(),o("span",st,"Assistance")):r("",!0)]),_:1})]),d.value?(a(),o("div",lt,[e[15]||(e[15]=t("p",{class:"px-4 text-[10px] font-black text-gray-300 uppercase tracking-widest mb-3"}," ParamÃ¨tres ",-1)),x(u(p),{to:"/bailleur/mon-profil",class:"sidebar-link flex items-center gap-4 px-4 py-3 rounded-2xl text-sm font-medium text-gray-400 hover:bg-gray-50 hover:text-[#E54801] transition-all group"},{default:c(()=>[...e[14]||(e[14]=[t("i",{class:"fas fa-user-circle w-5 text-center"},null,-1),t("span",null,"Mon Profil",-1)])]),_:1})])):r("",!0),t("div",at,[t("button",{onClick:z,class:"w-full text-xs font-black text-red-400 hover:bg-red-50 py-4 rounded-2xl transition-all uppercase tracking-widest flex items-center justify-center gap-3 group"},[e[16]||(e[16]=t("i",{class:"fas fa-sign-out-alt w-5 text-center group-hover:translate-x-1 transition-transform"},null,-1)),d.value?(a(),o("span",ot,"DÃ©connexion")):r("",!0)])])])],2),v.value?(a(),o("div",{key:0,onClick:e[1]||(e[1]=n=>v.value=!1),class:"fixed inset-0 bg-black/50 z-30 backdrop-blur-sm lg:hidden"})):r("",!0),t("main",nt,[t("div",rt,[t("div",it,[t("div",null,[t("button",{onClick:e[2]||(e[2]=n=>v.value=!0),class:"lg:hidden mb-3 p-2 bg-white rounded-xl border border-gray-100 shadow-sm"},[...e[17]||(e[17]=[t("i",{class:"fas fa-bars text-[#E54801]"},null,-1)])]),e[20]||(e[20]=t("p",{class:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-1"}," Tableau de bord ",-1)),t("h1",dt,[e[18]||(e[18]=i(" Bonjour, ",-1)),t("span",ut,l(F.value),1),e[19]||(e[19]=i(" ðŸ‘‹ ",-1))]),t("p",xt,l(A.value),1)]),t("div",ct,[x(u(p),{to:"/bailleur/publier-bien",class:"px-4 py-2.5 bg-[#E54801] text-white rounded-xl text-sm font-bold hover:bg-[#c43d01] transition-all flex items-center gap-2 shadow-sm"},{default:c(()=>[...e[21]||(e[21]=[t("i",{class:"fas fa-plus"},null,-1),i(" Publier un bien ",-1)])]),_:1})])]),h.value?(a(),o("div",pt,[t("div",bt,[(a(),o(k,null,B(4,n=>t("div",{key:n,class:"bg-white rounded-2xl p-6 border border-gray-100 sk h-32"})),64))]),e[22]||(e[22]=t("div",{class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},[t("div",{class:"lg:col-span-2 sk rounded-2xl h-72"}),t("div",{class:"sk rounded-2xl h-72"})],-1))])):(a(),o(k,{key:1},[t("div",ft,[t("div",gt,[e[24]||(e[24]=I('<div class="flex justify-between items-start mb-4" data-v-b7a8e3ad><div class="w-12 h-12 rounded-xl bg-orange-50 flex items-center justify-center text-[#E54801]" data-v-b7a8e3ad><i class="fas fa-wallet text-xl" data-v-b7a8e3ad></i></div><span class="px-2 py-1 rounded-lg bg-green-50 text-green-600 text-[10px] font-bold" data-v-b7a8e3ad>Actif</span></div><p class="text-sm font-medium text-gray-500" data-v-b7a8e3ad>Revenus Mensuels</p>',2)),t("h3",mt,[i(l(w(s.value.monthly_revenue))+" ",1),e[23]||(e[23]=t("span",{class:"text-xs font-normal text-gray-400 ml-1"},"FCFA",-1))])]),t("div",vt,[t("div",yt,[e[25]||(e[25]=t("div",{class:"w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center text-blue-600"},[t("i",{class:"fas fa-home text-xl"})],-1)),t("span",ht,l(s.value.occupancy_rate)+"%",1)]),e[26]||(e[26]=t("p",{class:"text-sm font-medium text-gray-500"},"Taux d'occupation",-1)),t("h3",_t,l(s.value.occupied_count)+"/"+l(s.value.total_properties),1),t("div",wt,[t("div",{class:"h-full bg-blue-500 rounded-full transition-all duration-700",style:L({width:s.value.occupancy_rate+"%"})},null,4)])]),t("div",kt,[t("div",jt,[e[27]||(e[27]=t("div",{class:"w-12 h-12 rounded-xl bg-red-50 flex items-center justify-center text-red-500"},[t("i",{class:"fas fa-user-clock text-xl"})],-1)),s.value.unpaid_count>0?(a(),o("span",Et,l(s.value.unpaid_count)+" retard"+l(s.value.unpaid_count>1?"s":""),1)):(a(),o("span",Bt,"OK"))]),e[28]||(e[28]=t("p",{class:"text-sm font-medium text-gray-500"},"Loyers ImpayÃ©s",-1)),t("h3",Ft,[i(l(s.value.unpaid_count>0?w(s.value.unpaid_amount):"â€”")+" ",1),s.value.unpaid_count>0?(a(),o("span",Ct,"FCFA")):r("",!0)])]),t("div",At,[t("div",Dt,[e[29]||(e[29]=t("div",{class:"w-12 h-12 rounded-xl bg-purple-50 flex items-center justify-center text-purple-600"},[t("i",{class:"fas fa-tools text-xl"})],-1)),s.value.interventions>0?(a(),o("span",zt,l(s.value.interventions)+" active"+l(s.value.interventions>1?"s":""),1)):r("",!0)]),e[30]||(e[30]=t("p",{class:"text-sm font-medium text-gray-500"},"Interventions",-1)),t("h3",Pt,l(s.value.interventions),1)])]),t("div",It,[t("div",Lt,[t("div",Nt,[t("div",Vt,[t("div",null,[e[31]||(e[31]=t("h2",{class:"text-lg font-bold text-gray-900"},"Mes Biens",-1)),t("p",Mt,l(s.value.occupied_count)+" occupÃ©"+l(s.value.occupied_count>1?"s":"")+" Â· "+l(s.value.available_count)+" disponible"+l(s.value.available_count>1?"s":""),1)]),x(u(p),{to:"/bailleur/mes-biens",class:"text-sm font-semibold text-[#E54801] hover:underline flex items-center gap-2"},{default:c(()=>[...e[32]||(e[32]=[i(" Voir tout ",-1),t("i",{class:"fas fa-arrow-right text-xs"},null,-1)])]),_:1})]),_.value.length?(a(),o("div",St,[(a(!0),o(k,null,B(_.value,n=>(a(),o("div",{key:n.id,class:"p-4 flex items-center justify-between hover:bg-gray-50/50 transition-colors group"},[t("div",Tt,[t("div",Ot,[t("img",{src:n.image,alt:n.title,class:"w-14 h-14 rounded-xl object-cover group-hover:scale-105 transition-transform duration-300"},null,8,$t),t("div",{class:f(["absolute -top-1.5 -right-1.5 w-5 h-5 rounded-full flex items-center justify-center",n.status==="occupied"?"bg-green-500":"bg-blue-500"])},[t("i",{class:f(["text-white text-[8px] fas",n.status==="occupied"?"fa-check":"fa-bolt"])},null,2)],2)]),t("div",null,[t("h4",qt,l(n.title),1),t("p",Gt,[e[36]||(e[36]=t("i",{class:"fas fa-map-marker-alt"},null,-1)),i(" "+l(n.location),1)]),n.tenant?(a(),o("p",Ht,[e[37]||(e[37]=t("i",{class:"fas fa-user mr-1"},null,-1)),i(" "+l(n.tenant),1)])):r("",!0)])]),t("div",Kt,[t("p",Ut,[i(l(w(n.price))+" ",1),e[38]||(e[38]=t("span",{class:"text-[10px] text-gray-400"},"FCFA/m",-1))]),t("span",{class:f(["inline-block mt-1 px-2 py-0.5 rounded-full text-[10px] font-bold uppercase",n.status==="occupied"?n.payment_status==="unpaid"?"bg-red-50 text-red-600":"bg-green-50 text-green-600":"bg-blue-50 text-blue-600"])},l(n.status==="occupied"?n.payment_status==="unpaid"?"ImpayÃ©":"OccupÃ©":"Disponible"),3)])]))),128))])):(a(),o("div",Rt,[e[34]||(e[34]=t("i",{class:"fas fa-building text-4xl mb-4 opacity-30"},null,-1)),e[35]||(e[35]=t("p",{class:"font-medium"},"Aucun bien publiÃ© pour l'instant",-1)),x(u(p),{to:"/bailleur/publier-bien",class:"mt-4 inline-flex items-center gap-2 text-sm text-[#E54801] font-bold hover:underline"},{default:c(()=>[...e[33]||(e[33]=[t("i",{class:"fas fa-plus"},null,-1),i(" Publier mon premier bien ",-1)])]),_:1})])),t("div",Jt,[x(u(p),{to:"/bailleur/publier-bien",class:"w-full py-2.5 bg-[#E54801] text-white text-sm font-bold rounded-xl hover:bg-[#c43d01] transition text-center flex items-center justify-center gap-2"},{default:c(()=>[...e[39]||(e[39]=[t("i",{class:"fas fa-plus"},null,-1),i(" Ajouter un bien ",-1)])]),_:1})])])]),t("div",Qt,[t("div",Wt,[e[44]||(e[44]=t("h3",{class:"text-xs font-black text-[#1B0B38] uppercase tracking-widest mb-4"}," RÃ©sumÃ© rapide ",-1)),t("div",Xt,[t("div",Yt,[e[40]||(e[40]=t("span",{class:"text-sm text-gray-600 flex items-center gap-2"},[t("i",{class:"fas fa-building text-[#E54801] w-4"}),i(" Total biens")],-1)),t("span",Zt,l(s.value.total_properties),1)]),t("div",te,[e[41]||(e[41]=t("span",{class:"text-sm text-gray-600 flex items-center gap-2"},[t("i",{class:"fas fa-key text-green-500 w-4"}),i(" OccupÃ©s")],-1)),t("span",ee,l(s.value.occupied_count),1)]),t("div",se,[e[42]||(e[42]=t("span",{class:"text-sm text-gray-600 flex items-center gap-2"},[t("i",{class:"fas fa-circle-dot text-blue-500 w-4"}),i(" Disponibles")],-1)),t("span",le,l(s.value.available_count),1)]),s.value.unpaid_count>0?(a(),o("div",ae,[e[43]||(e[43]=t("span",{class:"text-sm text-gray-600 flex items-center gap-2"},[t("i",{class:"fas fa-exclamation-triangle text-red-500 w-4"}),i(" ImpayÃ©s")],-1)),t("span",oe,l(s.value.unpaid_count),1)])):r("",!0)])]),t("div",ne,[t("div",re,[e[46]||(e[46]=t("span",{class:"text-[10px] font-black uppercase tracking-widest text-[#E54801] mb-2 block"},"Boostez vos revenus",-1)),e[47]||(e[47]=t("h3",{class:"text-lg font-bold mb-3"}," Vous avez un bien disponible ? ",-1)),e[48]||(e[48]=t("p",{class:"text-xs text-gray-300 mb-5 leading-relaxed"}," Publiez-le maintenant et trouvez un locataire en quelques jours. ",-1)),x(u(p),{to:"/bailleur/publier-bien",class:"inline-flex items-center gap-2 px-4 py-2.5 bg-[#E54801] text-white rounded-xl text-xs font-black uppercase tracking-widest hover:scale-105 transition-all shadow-lg"},{default:c(()=>[...e[45]||(e[45]=[t("i",{class:"fas fa-plus"},null,-1),i(" Publier maintenant ",-1)])]),_:1})]),e[49]||(e[49]=t("i",{class:"fas fa-home absolute -right-4 -bottom-4 text-8xl text-white/5"},null,-1))])])])],64))])])])}}},ce=M(ie,[["__scopeId","data-v-b7a8e3ad"]]);export{ce as default};
